(function(e){function t(t){for(var o,i,a=t[0],c=t[1],l=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],o=!0,a=1;a<r.length;a++){var c=r[a];0!==n[c]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},s=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"globalStore",(function(){return bn}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var o,n,s=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Extension")},a=[],c=r("1da1"),l=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleExtensionVal,expression:"toggleExtensionVal"}],staticClass:"ui-br-ext-extension ui-br-ext-alwaysOn",staticStyle:{outline:"none !important"},attrs:{id:"ui-br-ext-extension"}},[r("MainMenu",{on:{"toggle-drop":e.toggleDrop,"toggle-extension":e.toggleExtension}}),r("Dropdown",{attrs:{dropToToggle:e.dropToToggle},on:{"toggle-extension":e.toggleExtension}}),r("a",{staticStyle:{display:"none"},attrs:{href:"",id:"ui-br-ext-download-image-full"}}),r("a",{staticStyle:{display:"none"},attrs:{download:"message.eml",id:"ui-br-ext-download-email"}})],1)}),u=[],d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-header",staticStyle:{outline:"none !important"},attrs:{id:"ui-br-ext-header"},on:{mousedown:e.onMouseDown,touchstart:e.onTouchStart}},[r("div",{staticClass:"ui-br-ext-menu-container ui-br-ext-container ui-br-ext-alwaysOn"},[e.videoMode?e._e():[r("SelectBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton,"toggle-extension":function(t){return e.$emit("toggle-extension")}}}),r("ReportBugBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("ReviewBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("VideoBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("SettingsBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("CloseBtn",{on:{"toggle-button":e.toggleButton}})],e.videoMode?[r("VideoRecord",{on:{"toggle-video-drop":e.toggleVideoDrop}})]:e._e()],2)])},p=[],m=(r("d3b7"),r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{ref:"selectButton",staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Select",id:"ui-br-ext-select-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-mouse-pointer",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}}),r("path",{attrs:{d:"M13 13l6 6"}})])])}),h=[],v=(r("159b"),r("a15b"),r("caad"),r("2532"),function(e){return x(e)}),g=function(e){return w(e)},f=function(){var e=document.querySelector("body");e.addEventListener("mouseover",v),e.addEventListener("mouseout",g)},b=function(){var e=document.querySelector("body");e.removeEventListener("mouseover",v),e.removeEventListener("mouseout",g)},x=function(e){e.target.classList.value.includes("ui-br-ext-")||e.target.classList.add("ui-br-ext-hovered")},w=function(e){e.target.classList.remove("ui-br-ext-hovered")},y={hoverOn:v,hoverOff:g,addHover:f,removeHover:b,hoverOnHandler:x,hoverOffHandler:w},j=new s["a"],k=j,C=function(e){e||(e=document.querySelectorAll("body > *:not(#ui-br-ext-extension):not(script):not(noscript):not(style)")),e.forEach((function(e){e.addEventListener("click",_,{capture:!0}),e.addEventListener("mousedown",_,{capture:!0}),e.addEventListener("mouseup",_,{capture:!0})}))},R=function(e){e||(e=document.querySelectorAll("body > *:not(#ui-br-ext-extension):not(script):not(noscript):not(style)")),e.forEach((function(e){e.removeEventListener("click",_,!0),e.removeEventListener("mousedown",_,!0),e.removeEventListener("mouseup",_,!0)}))},_=function(e){return P(e)},P=function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),"click"==e.type&&M(e.target),!1},M=function(e){var t=e.getAttribute("data-ext-index");if(!(t&&t>=0))return!1;console.log(t),k.$emit("show-details",t)},S={preventClick:_,addClickBlocker:C,removeClickBlocker:R,preventClickHandler:P},E={element:null,parentCount:0},A=5,T=function(){var e="",t="*{\n        -webkit-tap-highlight-color: transparent;\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }",r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.setAttribute("id","ui-br-ext-extension-style"),r.appendChild(o),o.type="text/css",o.styleSheet?o.styleSheet.cssText=e+t:o.appendChild(document.createTextNode(e+t)),O(B)},$=function(){var e;null===(e=document.getElementById("ui-br-ext-extension-style"))||void 0===e||e.remove(),D(B),document.querySelectorAll(".ui-br-ext-outlined-element").forEach((function(e){e.classList.remove("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText.replace("outline: red dashed 3px !important;",""),e.removeAttribute("data-ext-index")})),E&&(E.element=null,E.parentCount=0),K(!1)},O=function(e){var t=document.getElementsByTagName("html")[0];t.addEventListener("mousedown",e,!0),S.addClickBlocker(),y.addHover()},D=function(e){var t=document.getElementsByTagName("html")[0];t.removeEventListener("mousedown",e,!0),S.removeClickBlocker(),y.removeHover()},B=function(e){if(e){var t=e.clientX,r=e.clientY;I(t,r)}},I=function(e,t){var r,o,n,s,i=document.elementFromPoint(e,t),a=document.elementFromPoint(e,t);if(i&&null!==E.element&&E.parentCount<A&&null===(null===(r=i)||void 0===r?void 0:r.closest("#ui-br-ext-extension"))){var c=E.element.getBoundingClientRect(),l=c.top,u=c.left,d=i.getBoundingClientRect(),p=d.top,m=d.left;if(l===p&&u===m){for(var h=null,v=!1,g=1;g<A;g++){var f;if(h=null!==h?h.parentElement:i.parentElement,null!==(f=h)&&void 0!==f&&f.classList.contains("ui-br-ext-outlined-element")){v=!0,E.parentCount++;break}}v||E.parentCount++,i=v?h.parentElement:i.parentElement}}E.element=a,"body"!=(null===(o=i)||void 0===o?void 0:o.tagName.toLocaleLowerCase())&&"html"!=(null===(n=i)||void 0===n?void 0:n.tagName.toLocaleLowerCase())&&null===(null===(s=i)||void 0===s?void 0:s.closest("#ui-br-ext-extension"))&&(F(i),K(!0),bn.store.selectedElement=i,bn.store.selectedElementRect=i.getBoundingClientRect()),E.parentCount===A&&(E.element=null,E.parentCount=0)},F=function(e){document.querySelectorAll(".ui-br-ext-outlined-element").forEach((function(e){e.classList.remove("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText.replace("outline: red dashed 3px !important;","")})),e.classList.add("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText+"outline: red dashed 3px !important;"},K=function(e){var t=document.getElementById("ui-br-ext-report-bug-button");t.style.display=e?t.classList.remove("ui-br-ext-report-bug-inactive"):t.classList.add("ui-br-ext-report-bug-inactive")},U=function(e){for(var t,r=document.getElementsByTagName("*"),o=[];e&&1==e.nodeType;e=e.parentNode){if(e.hasAttribute("id")){for(var n=0;n<r.length;n++)if(r[n].hasAttribute("id")&&r[n].id==e.id)return o.unshift('//*[@id="'+e.getAttribute("id")+'"]'),o.join("/")}else{var s=void 0;for(s=1,t=e.previousSibling;t;t=t.previousSibling)t.localName==e.localName&&s++;o.unshift(e.localName.toLowerCase()+"["+s+"]")}if("html"===e.localName.toLowerCase())break}return o.length?"/"+o.join("/"):null},L={getElementXpath:U,displayReportBugButton:K,outlineSelectedElement:F,findElementFromPoint:I,getMouseCoordinates:B,removeClickFromBody:D,addClickToHtml:O,onDeselect:$,onSelect:T,ui_br_ext_previousElement:E,ui_br_ext_parentLimit:A},N=function(e){var t=document.getElementsByClassName("ui-br-ext-active")[0],r=e.id;return("ui-br-ext-select-button"!==(null===t||void 0===t?void 0:t.id)||"ui-br-ext-select-button"===(null===t||void 0===t?void 0:t.id)&&"ui-br-ext-select-button"===r||"ui-br-ext-select-button"===(null===t||void 0===t?void 0:t.id)&&"ui-br-ext-report-bug-button"!==r)&&z(),J(e)},J=function(e){var t=!1,r=e.classList;return r.contains("ui-br-ext-active")?(e.classList.remove("ui-br-ext-active"),t=!1):(document.querySelectorAll(".ui-br-ext-operator").forEach((function(e){e.classList.remove("ui-br-ext-active")})),e.classList.add("ui-br-ext-active"),t=!0),t},z=function(){L.onDeselect(),X()},V=function(e){document.getElementById(e).classList.add("ui-br-ext-active")},X=function(){document.querySelectorAll(".ui-br-ext-extension .ui-br-ext-dropdown-item").forEach((function(e){e.classList.remove("ui-br-ext-active")}))},q=function(){L.onSelect()},Y=function(){L.removeClickFromBody(L.getMouseCoordinates)},Q={activateOperator:N,resetAllOperators:z,setOperatorIconStyle:J,openDropdown:V,closeDropdown:X,onSelect:q,removeClickFromBodyOnReport:Y},H=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("body").classList.add("ui-br-ext-hide-hovered"),e.next=3,W(100);case 3:return e.abrupt("return",new Promise((function(e,t){chrome.runtime.sendMessage({todo:"getImage"},(function(r){r.imgSrc?(e(r.imgSrc),document.querySelector("body").classList.remove("ui-br-ext-hide-hovered")):(t(),document.querySelector("body").classList.remove("ui-br-ext-hide-hovered"))}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},Z=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.bugReportextension.screenshot){e.next=4;break}return e.next=3,H();case 3:window.bugReportextension.screenshot=e.sent;case 4:ee("ui-br-ext-download-image-full",window.bugReportextension.screenshot,"full_screenshot");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=550,t=window.matchMedia("(max-width: 1023px)"),r=window.matchMedia("(max-width: 767px)");return r.matches&&(e=window.innerWidth-.25*window.innerWidth),t.matches&&(e=window.innerWidth-.45*window.innerWidth),e},ee=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r,o){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.getElementById(t),s="image/png",n.download=o,n.href=r,n.dataset.downloadurl=[s,n.download,n.href].join(":"),n.click();case 6:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),te={getScreenshot:H,setDelay:W,imageDownload:Z,screenshotLink:ee,getQueryWidth:G},re={name:"SelectBtn",props:["toggleCompleted"],created:function(){this.onSelect=Q.onSelect,this.onGetScreenshot=te.getScreenshot,this.getQueryWidth=te.getQueryWidth},mounted:function(){window.selectButtonComponent=this},data:function(){return{next:!1}},methods:{toggleBtn:function(e){this.toggleEmit(e.currentTarget),bn.store.dynamicDomFlow=!1},toggleEmit:function(e){var t=this;this.$emit("toggle-button",e),this.$nextTick((function(){t.toggleCompleted&&t.onSelect()}))},toggleSelectButton:function(){this.toggleEmit(this.$refs.selectButton),bn.store.dynamicDomFlow=!0},getScreenshot:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("toggle-extension"),t.next=3,e.onGetScreenshot();case 3:return bn.store.screenshot=t.sent,t.next=6,e.getQueryWidth();case 6:bn.store.queryWidth=t.sent,e.$emit("toggle-extension");case 8:case"end":return t.stop()}}),t)})))()}}},oe=re,ne=r("2877"),se=Object(ne["a"])(oe,m,h,!1,null,null,null),ie=se.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn ui-br-ext-report-bug-inactive",attrs:{"data-title":"Report bug",id:"ui-br-ext-report-bug-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"feather feather-file-plus",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}}),r("polyline",{attrs:{points:"14 2 14 8 20 8"}}),r("line",{attrs:{x1:"12",y1:"18",x2:"12",y2:"12"}}),r("line",{attrs:{x1:"9",y1:"15",x2:"15",y2:"15"}})])])},ce=[],le={name:"ReportBugBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},ue=le,de=Object(ne["a"])(ue,ae,ce,!1,null,null,null),pe=de.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Review",id:"ui-br-ext-review-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"feather feather-file-text",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}}),r("polyline",{attrs:{points:"14 2 14 8 20 8"}}),r("polyline",{attrs:{points:"10 9 9 9 8 9"}}),r("line",{attrs:{x1:"16",y1:"13",x2:"8",y2:"13"}}),r("line",{attrs:{x1:"16",y1:"17",x2:"8",y2:"17"}})])])},he=[],ve={name:"ReviewBtn",props:["toggleCompleted"],data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},ge=ve,fe=Object(ne["a"])(ge,me,he,!1,null,null,null),be=fe.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Screen Record",id:"ui-br-ext-video-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-video",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("polygon",{attrs:{points:"23 7 16 12 23 17 23 7"}}),r("rect",{attrs:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}})])])},we=[],ye={name:"VideoBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$emit("start-record"),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},je=ye,ke=Object(ne["a"])(je,xe,we,!1,null,null,null),Ce=ke.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Settings",id:"ui-br-ext-settings-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-settings",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"12",cy:"12",r:"3"}}),r("path",{attrs:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}})])])},_e=[],Pe={name:"SettingsBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},Me=Pe,Se=Object(ne["a"])(Me,Re,_e,!1,null,null,null),Ee=Se.exports,Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Close",id:"ui-br-ext-close-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-x",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#f04242","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),r("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])])},Te=[],$e={name:"CloseBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},Oe=$e,De=Object(ne["a"])(Oe,Ae,Te,!1,null,null,null),Be=De.exports,Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-video-recorder"},[r("StopBtn",{on:{"stop-record":e.onStopRecord,"start-record":e.onStartRecord}}),r("div",{staticClass:"ui-br-ext-video-timer"},[r("div",{style:{width:e.width+"%"}})]),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.error))]),r("div",{directives:[{name:"show",rawName:"v-show",value:e.onPreview,expression:"onPreview"}],staticClass:"ui-br-ext-preview"},[r("div",{staticClass:"ui-br-ext-video-box"},[r("div",{staticClass:"ui-br-ext-close",on:{click:e.stopPreview}},[r("svg",{staticClass:"feather feather-x",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#f7f7f7","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),r("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])]),r("video",{ref:"playVideoCapture",attrs:{src:e.video,controls:""}})])]),r("a",{ref:"downloadVideoCapture",staticStyle:{display:"none !important"},attrs:{href:""}})],1)},Fe=[],Ke=r("2909"),Ue=(r("99af"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("2ca0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.recording?r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Stop Record",id:"ui-br-ext-stop-button"},on:{click:e.stopRecord}},[r("svg",{staticClass:"ui-br-ext-feather ui-bt-ext-stop-button feather-stop-circle",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#e04414","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),r("rect",{attrs:{x:"9",y:"9",width:"6",height:"6"}})])]):e._e(),e.recording?e._e():r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Start Record",id:"ui-br-ext-stop-button"},on:{click:e.startRecord}},[r("svg",{staticClass:"feather feather-play-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#00ad55","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),r("polygon",{attrs:{points:"10 8 16 12 10 16 10 8"}})])])])}),Le=[],Ne={name:"StopBtn",props:["toggleCompleted"],mounted:function(){k.$on("permission-denied",this.stopRecord),k.$on("click-stop",this.stopRecord)},data:function(){return{next:!1,disabled:!1,recording:!0}},methods:{stopRecord:function(){this.recording=!1,this.$emit("stop-record")},startRecord:function(){this.$emit("start-record"),this.recording=!0}}},Je=Ne,ze=Object(ne["a"])(Je,Ue,Le,!1,null,null,null),Ve=ze.exports,Xe=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="video/webm",e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:return r=e.sent,e.next=6,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 6:n=e.sent,s=[].concat(Object(Ke["a"])(r.getTracks()),Object(Ke["a"])(n.getAudioTracks())),i=new MediaStream(s),o=Ye(i,t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){o.stop()},Ye=function(e,t){var r=[],o=new MediaRecorder(e);return o.ondataavailable=function(e){e.data.size>0&&r.push(e.data)},o.onstop=function(){Qe(r,t),r=[],e.getTracks().forEach((function(e){return e.stop()}))},o.start(200),o},Qe=function(e,t){var r=new Blob(e,{type:t}),o=window.prompt("Enter file name"),n=document.createElement("a");n.href=URL.createObjectURL(r),n.download="".concat(o,".webm"),document.body.appendChild(n),n.click(),URL.revokeObjectURL(r),document.body.removeChild(n)},He={startRecord:Xe,stopRecord:qe},We={name:"VideoRecord",components:{StopBtn:Ve},created:function(){this.start=He.startRecord,this.stop=He.stopRecord,this.start=Date.now()},mounted:function(){this.startRecord(),k.$on("preview",this.preview),k.$on("download",this.saveFile),k.$on("upload",this.upload)},data:function(){return{time:0,timer:void 0,width:1,onPreview:!1,mediaRecorder:void 0,recordedChunks:[],mimeType:"video/webm",video:"",error:""}},methods:{startRecord:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,o,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.recordedChunks=[],t.prev=1,t.next=4,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 4:return r=t.sent,t.next=7,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 7:o=t.sent,n=[].concat(Object(Ke["a"])(r.getTracks()),Object(Ke["a"])(o.getAudioTracks())),s=new MediaStream(n),e.mediaRecorder=e.createRecorder(s),t.next=20;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log(t.t0.message),e.error=t.t0.message,k.$emit("permission-denied"),e.time=0,e.width=0;case 20:case"end":return t.stop()}}),t,null,[[1,13]])})))()},stopRecord:function(){this.mediaRecorder.stop()},createRecorder:function(e){var t=this,r=new MediaRecorder(e);return r.ondataavailable=function(e){e.data.size>0&&t.recordedChunks.push(e.data)},r.onstart=function(){t.timer=setInterval(t.timerBody,600)},r.onstop=function(){e.getTracks().forEach((function(e){return e.stop()}))},r.start(200),r},saveFile:function(e){var t=new Blob(this.recordedChunks,{type:"video/webm"}),r=this.$refs.downloadVideoCapture;r.href=URL.createObjectURL(t),r.download="reportbug.webm",r.click(),URL.revokeObjectURL(t)},onStopRecord:function(){clearInterval(this.timer),this.$emit("toggle-video-drop",!0),this.mediaRecorder&&this.mediaRecorder.stop()},onStartRecord:function(){this.error="",this.time=0,this.width=0,this.$emit("toggle-video-drop",!1),this.startRecord()},onSave:function(e){console.log(e),this.action.upload&&this.upload(),this.action.download&&this.saveFile()},timerBody:function(){this.width++,this.time++,100==this.time&&k.$emit("click-stop")},preview:function(){this.onPreview=!0;var e,t=this.$refs.playVideoCapture,r=new Blob(this.recordedChunks,{type:"video/webm"}),o=URL.createObjectURL(r);t&&t.currentSrc&&(e=t.currentSrc),e&&e.startsWith("blob:")&&(t.src="",URL.revokeObjectURL(e)),t.src=o},stopPreview:function(){var e=this.$refs.playVideoCapture;e.pause(),this.onPreview=!1}}},Ze=We,Ge=Object(ne["a"])(Ze,Ie,Fe,!1,null,null,null),et=Ge.exports,tt={name:"MainMenu",components:{SelectBtn:ie,ReportBugBtn:pe,ReviewBtn:be,VideoBtn:Ce,SettingsBtn:Ee,CloseBtn:Be,VideoRecord:et},created:function(){this.activateOperator=Q.activateOperator,this.onDeselect=L.onDeselect,this.removeClickFromBodyOnReport=Q.removeClickFromBodyOnReport},mounted:function(){var e=this;k.$on("toggle-video-drop",(function(t){e.toggleVideoDrop(t.drop),e.videoMode=t.videoMode})),k.$on("toggle-bug-drop",(function(t){e.$emit("toggle-drop",{id:"report-bug",state:t})}))},data:function(){return{toggleCompleted:!1,positions:{clientX:void 0,clientY:void 0,movementX:0,movementY:0},videoMode:!1}},methods:{toggleButton:function(e){"ui-br-ext-close-button"==e.id?(this.onDeselect(),window.destroyeUibrextInstance()):(this.toggleCompleted=this.activateOperator(e),this.toggleDrops(e.id,this.toggleCompleted),"ui-br-ext-report-bug-button"==e.id&&this.removeClickFromBodyOnReport())},toggleDrops:function(e,t){e=e.replace("ui-br-ext-","").replace(/-/g,"").replace("button",""),"video"==e&&(t=!1),this.$emit("toggle-drop",{id:e,state:t}),"video"==e&&(this.videoMode=!0)},onMouseDown:function(e){e.preventDefault(),this.positions.clientX=e.clientX,this.positions.clientY=e.clientY,document.onmousemove=this.elementDrag,document.onmouseup=this.closeDragElement},elementDrag:function(e){e.preventDefault();var t=document.getElementById("ui-br-ext-extension");this.positions.movementX=this.positions.clientX-e.clientX,this.positions.movementY=this.positions.clientY-e.clientY,this.positions.clientX=e.clientX,this.positions.clientY=e.clientY,e.clientY>0&&e.clientY<window.innerHeight&&(t.style.top=t.offsetTop-this.positions.movementY+"px"),e.clientX>0&&e.clientX<window.innerWidth&&(t.style.left=t.offsetLeft-this.positions.movementX+"px")},closeDragElement:function(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null},onTouchStart:function(e){if("ui-br-ext-header"==e.target.id){e.preventDefault(),e.stopPropagation();var t=e.touches[0];this.positions.clientX=t.clientX,this.positions.clientY=t.clientY,document.ontouchmove=this.onTouchMove,document.ontouchend=this.closeDragElement}},onTouchMove:function(e){e.stopPropagation();var t=e.touches[0],r=document.getElementById("ui-br-ext-extension");this.positions.movementX=this.positions.clientX-t.clientX,this.positions.movementY=this.positions.clientY-t.clientY,this.positions.clientX=t.clientX,this.positions.clientY=t.clientY,t.clientY>0&&t.clientY<window.innerHeight&&(r.style.top=r.offsetTop-this.positions.movementY+"px"),t.clientX>0&&t.clientX<window.innerWidth&&(r.style.left=r.offsetLeft-this.positions.movementX+"px")},toggleVideoDrop:function(e){this.$emit("toggle-drop",{id:"video",state:e})}}},rt=tt,ot=Object(ne["a"])(rt,d,p,!1,null,null,null),nt=ot.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-container ui-br-ext-dropdown"},[e.drops.reportbug?r("ReportBugDrop",{on:{"toggle-extension":function(t){return e.$emit("toggle-extension")}}}):e._e(),e.drops.settings?r("SettingsDrop"):e._e(),e.drops.review?r("ReviewDrop"):e._e(),e.drops.video?r("VideoRecordDrop"):e._e()],1)},it=[],at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"divToResize",staticClass:"ui-br-ext-dropdown-item ui-br-ext-report-bug",attrs:{id:"ui-br-ext-report-bug"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Report bug")]),r("div",{staticClass:"ui-br-ext-drop-body"},[r("ProjectDetails",{attrs:{project:e.project}}),r("ModuleDetails",{attrs:{module:e.currentModule}}),r("UserDetails",{attrs:{user:e.user}}),r("div",{staticClass:"ui-br-ext-spacer-3"}),r("ReportForm",{ref:"reportForm"}),r("FileUpload",{ref:"fileUploadForm",attrs:{account:e.account}})],1),e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.report.saveJira,expression:"report.saveJira"}],attrs:{type:"checkbox",name:"jira",id:"ui-br-ext-save-to-jira"},domProps:{checked:Array.isArray(e.report.saveJira)?e._i(e.report.saveJira,null)>-1:e.report.saveJira},on:{change:function(t){var r=e.report.saveJira,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.report,"saveJira",r.concat([s])):i>-1&&e.$set(e.report,"saveJira",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.report,"saveJira",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-jira"}},[e._v("Create Jira ticket on save")])]):e._e(),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.report.savePdf,expression:"report.savePdf"}],attrs:{type:"checkbox",name:"pdf",id:"ui-br-ext-save-to-pdf"},domProps:{checked:Array.isArray(e.report.savePdf)?e._i(e.report.savePdf,null)>-1:e.report.savePdf},on:{change:function(t){var r=e.report.savePdf,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.report,"savePdf",r.concat([s])):i>-1&&e.$set(e.report,"savePdf",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.report,"savePdf",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-pdf"}},[e._v("Save as PDF")])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.report.sendEmail,expression:"report.sendEmail"}],attrs:{type:"checkbox",name:"pdf",id:"ui-br-ext-send-email"},domProps:{checked:Array.isArray(e.report.sendEmail)?e._i(e.report.sendEmail,null)>-1:e.report.sendEmail},on:{change:function(t){var r=e.report.sendEmail,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.report,"sendEmail",r.concat([s])):i>-1&&e.$set(e.report,"sendEmail",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.report,"sendEmail",n)}}}),r("label",{attrs:{for:"ui-br-ext-send-email"}},[e._v("Send email")])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.report.saveScreenshot,expression:"report.saveScreenshot"}],attrs:{type:"checkbox",name:"screenshot",id:"ui-br-ext-save-to-screenshot"},domProps:{checked:Array.isArray(e.report.saveScreenshot)?e._i(e.report.saveScreenshot,null)>-1:e.report.saveScreenshot},on:{change:function(t){var r=e.report.saveScreenshot,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.report,"saveScreenshot",r.concat([s])):i>-1&&e.$set(e.report,"saveScreenshot",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.report,"saveScreenshot",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-screenshot"}},[e._v("Download screenshot")]),r("span",{staticClass:"ui-br-ext-disclaimer"},[e._v("Make sure to remove personal identity information")])]),r("button",{staticClass:"ui-br-ext-btn",class:{disabled:e.submitInPorgress},attrs:{id:"ui-br-ext-save-report","data-listener":"off",disabled:e.submitInPorgress},on:{click:e.formValidation}},[r("span",{staticClass:"ui-br-ext-spinner",class:{active:e.submitInPorgress}}),r("span",[e._v("Save")])]),r("Resize",{attrs:{elementId:e.elementId}}),r("a",{ref:"downloadImageFull",staticStyle:{display:"none !important"},attrs:{href:""}})],1)},ct=[],lt=(r("b0c0"),r("25f0"),r("fb6a"),{content:[],pageMargins:[20,40,20,40],styles:{subheader:{fontSize:12,bold:!0,margin:[0,0,0,5]},description:{fontSize:12,margin:[0,0,0,20]},screenshot:{margin:[0,0,0,20]}}}),ut=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var o,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=pt(),lt.content=[],n=r("e499"),void 0==n.vfs&&(s=r("4ebb"),n.vfs=s.pdfMake.vfs),e.next=6,dt(t);case 6:return i=e.sent,console.log(i),lt.content=lt.content.concat(i),n.createPdf(lt).download(o+".pdf"),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,o,n,s,i,a,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=["description","actualResults","expectedResults","stepsToReproduce"],o={description:"Description",actualResults:"Actual results",expectedResults:"Expected results",stepsToReproduce:"Steps to reproduce"},n=[],s=0,i=r;s<i.length;s++)a=i[s],t[a]&&t[a].length>0&&(c={text:"".concat(o[a]),style:"subheader"},l={text:"".concat(t[a]),style:"description"},n.push(c),n.push(l));return t.saveScreenshot&&t.screenshot&&(u={image:t.screenshot,width:t.queryWidth||550,pageBreak:"after",style:"screenshot"},n.push(u)),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(e){var t=mt();return e?e+"_"+t:"BugReport_"+t},mt=function(){var e=Date.now().toString();return e.slice(-6)},ht={savePdf:ut,createPdfContent:dt,getFileName:pt,getDate:mt},vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"ui-br-ext-info-list"},[e.module&&e.module.name?r("li",[e._m(0),e.module?r("span",[e._v(" "+e._s(e.module.name||"No module chosen"))]):e._e()]):e._e()])},gt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v(" Module: ")])])}],ft={name:"ModuleDetails",props:["module"]},bt=ft,xt=Object(ne["a"])(bt,vt,gt,!1,null,null,null),wt=xt.exports,yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"ui-br-ext-info-list"},[e.user&&(e.user.firstname||e.user.lastname)?r("li",[e._m(0),r("span",[e._v(" "+e._s(e.user.firstname)+" "+e._s(e.user.lastname))])]):e._e(),e.user&&e.user.email?r("li",[e._m(1),r("span",[e._v(" "+e._s(e.user.email))])]):e._e()])},jt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("User: ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("Email: ")])])}],kt={name:"UserDetails",props:["user"]},Ct=kt,Rt=Object(ne["a"])(Ct,yt,jt,!1,null,null,null),_t=Rt.exports,Pt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"ui-br-ext-info-list"},[e.project&&e.project.projectKey?r("li",[e._m(0),e.project?r("span",[e._v(" "+e._s(e.project.projectKey||"No project chosen"))]):e._e()]):e._e()])},Mt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("Project key: ")])])}],St={name:"ProjectDetails",props:["project"]},Et=St,At=Object(ne["a"])(Et,Pt,Mt,!1,null,null,null),Tt=At.exports,$t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-box-resize",attrs:{id:"ui-br-comment-boxResize"},on:{mousedown:e.onMouseDown,touchstart:e.onTouchStart}},[r("svg",{attrs:{version:"1.1",viewBox:"0 0 36 36",preserveAspectRatio:"xMidYMid meet",focusable:"false",role:"img",width:"128",height:"128",fill:"currentColor"}},[r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-1",attrs:{d:"M33,11H3a1,1,0,0,0,0,2H33a1,1,0,0,0,0-2Z"}}),r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-2",attrs:{d:"M28,17H8a1,1,0,0,0,0,2H28a1,1,0,0,0,0-2Z"}}),r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-3",attrs:{d:"M23,23H13a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"}})])])},Ot=[],Dt={},Bt=function(e,t){e.preventDefault(),n=document.getElementById(t),Dt.width=n.getBoundingClientRect().width,Dt.height=n.getBoundingClientRect().height,Dt.clientX=e.clientX,Dt.clientY=e.clientY,Dt.element=n,document.onmousemove=Ft,document.onmouseup=Ut},It=function(e){e.preventDefault(),e.stopPropagation();var t=e.touches[0];Dt.width=n.getBoundingClientRect().width,Dt.height=n.getBoundingClientRect().height,Dt.clientX=t.clientX,Dt.clientY=t.clientY,document.ontouchmove=Kt,document.ontouchend=Ut,n=void 0},Ft=function(e){e.preventDefault(),Dt.resizeX=Dt.width+(e.clientX-Dt.clientX),Dt.resizeX>350&&(Dt.element.style.width=Dt.resizeX+"px"),Dt.resizeY=Dt.height+(e.clientY-Dt.clientY),Dt.resizeY>200&&(Dt.element.style.height=Dt.resizeY+"px")},Kt=function(e){var t=e.touches[0];Dt.resizeX=Dt.width+(t.clientX-Dt.clientX),Dt.resizeX>250&&Dt.resizeX<330&&(Dt.element.style.width=Dt.resizeX+"px"),Dt.resizeY=Dt.height+(t.clientY-Dt.clientY),Dt.resizeY>200&&(Dt.element.style.height=Dt.resizeY+"px")},Ut=function(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null},Lt={onMouseDown:Bt,setInitialSize:Ft,closeElementResize:Ut,onTouchResize:Kt,onTouchStart:It},Nt={name:"Resize",props:["elementId"],data:function(){return{element:void 0}},created:function(){this.mouseMove=Lt.onMouseDown,this.touchMove=Lt.onTouchStart},methods:{onMouseDown:function(e){this.mouseMove(e,this.elementId)},onTouchStart:function(e){"ui-br-comment-boxResize"==e.path[1]["id"]&&this.touchMove(e)}}},Jt=Nt,zt=Object(ne["a"])(Jt,$t,Ot,!1,null,null,null),Vt=zt.exports,Xt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"ui-br-ext-report-form"},[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-description"}},[e._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{name:"ui-br-ext-description",rows:"2","data-gramm":"false"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}}),e.count>0&&""==e.form.description?r("span",{staticClass:"ui-br-ext-message"},[e._v("Field is required")]):e._e()]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-act-results"}},[e._v("Actual results")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.actualResults,expression:"form.actualResults"}],attrs:{name:"ui-br-ext-act-results",rows:"3","data-gramm":"false"},domProps:{value:e.form.actualResults},on:{input:function(t){t.target.composing||e.$set(e.form,"actualResults",t.target.value)}}}),e.count>0&&""==e.form.actualResults?r("span",{staticClass:"ui-br-ext-message"},[e._v("Field is required")]):e._e()]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-exp-results"}},[e._v("Expected results")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.expectedResults,expression:"form.expectedResults"}],attrs:{name:"ui-br-ext-exp-results",rows:"3","data-gramm":"false"},domProps:{value:e.form.expectedResults},on:{input:function(t){t.target.composing||e.$set(e.form,"expectedResults",t.target.value)}}}),e.count>0&&""==e.form.expectedResults?r("span",{staticClass:"ui-br-ext-message"},[e._v("Field is required")]):e._e()]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-rep-steps"}},[e._v("Steps to reproduce")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.stepsToReproduce,expression:"form.stepsToReproduce"}],attrs:{name:"ui-br-ext-rep-steps",rows:"3","data-gramm":"false"},domProps:{value:e.form.stepsToReproduce},on:{input:function(t){t.target.composing||e.$set(e.form,"stepsToReproduce",t.target.value)}}}),e.count>0&&""==e.form.stepsToReproduce?r("span",{staticClass:"ui-br-ext-message"},[e._v("Field is required")]):e._e()])])},qt=[],Yt=r("3835"),Qt=(r("a4d3"),r("e01a"),r("4fad"),r("498a"),{name:"ReportForm",props:["report"],mounted:function(){this.setFormValue()},data:function(){return{form:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:""},count:0}},methods:{setFormValue:function(){this.report&&(this.form.description=this.report.description||"",this.form.actualResults=this.report.actualResults||"",this.form.expectedResults=this.report.expectedResults||"",this.form.stepsToReproduce=this.report.stepsToReproduce||"")},resetReportData:function(){this.form={description:"",actualResults:"",expectedResults:"",stepsToReproduce:""}},formValidation:function(){var e=this;return this.count=0,new Promise((function(t,r){Object.entries(e.form).forEach((function(t){var r=Object(Yt["a"])(t,2),o=r[0],n=r[1];n=n.trim(),e.form[o]=n,console.log(n),""==n&&e.count++})),0==e.count&&t(!0),t(!1)}))}}}),Ht=Qt,Wt=Object(ne["a"])(Ht,Xt,qt,!1,null,null,null),Zt=Wt.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-file-upload-comp"},[r("div",{staticClass:"ui-br-ext-file-upload"},[e._m(0),r("input",{ref:"file",attrs:{type:"file",id:"ui-br-ext-upload",name:"ui-br-ext-upload",accept:"image/*, video/*, .pdf, .doc, .docx"},on:{change:e.addFile}}),r("ul",e._l(e.files,(function(t,o){return r("li",{key:t.name},[t.id?e._e():r("span",{staticClass:"ui-br-ext-spinner active"}),t.id?r("span",{on:{click:function(t){return e.removeFile(o)}}},[r("svg",{staticClass:"ui-br-ext-feather feather-x",attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#f04242","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),r("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])]):e._e(),r("span",[e._v(e._s(t.name))])])})),0)])])},er=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{attrs:{for:"ui-br-ext-upload"}},[e._v("Attach files "),r("span",[e._v("(image, video, doc, pdf)")])])}],tr=(r("a434"),r("d81d"),r("bc3a")),rr=r.n(tr),or=function(e,t,r){return console.log(e,t,r),r.screenshot||(r.screenshot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAooAAAFnCAYAAAAhRmhNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAFoOSURBVHhe7d0HvBTV2fjxZ+nNWEHaRbpGfd/wioWiRo0iIia+VhQR7MYS/ScaKyAXe0k0ltiigqIg4JtEuCAxYKNagu+rsdC5IFdUQKUIAvs/z8yZmTO7s+VeOvy+fPbD3dmdmTNnZneeec6ZPQIAAAAAu4xFTZuesrhZsy+/aNZsweImTbrZyQAAoBKq2f+BnUpK5C7zaGT+bJGqVm2gPxUAAFQGgSJ2SiZI3GD/lHQ6vd7+CQAAKoFAETslExxenxaZb/"),new Promise((function(o,n){rr.a.post("".concat(e.repositoryServer,"/bug"),{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,moduleId:t,actualResult:r.actualResults,description:r.description,stepsToReproduce:r.stepsToReproduce,expectedResult:r.expectedResults,xpath:r.xPath,screenshot:r.screenshot,attachments:r.attachments}).then((function(e){console.log(e),o(e.data)})).catch((function(e){if(e.response){if(401==e.response.status)return alert("Unauthorized"),!1;console.log(e.response.data),n(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},nr=function(e,t,r){return console.log(e.registrationKey),console.log(e.token),console.log(r),new Promise((function(o,n){rr.a.get("".concat(e.repositoryServer,"/bug"),{params:{registrationKey:e.registrationKey,token:e.token,query:t,projectId:r}}).then((function(e){console.log(e),o(e.data.result)})).catch((function(e){if(console.log(e.reponse),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;n(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},sr=function(e){console.log(e),rr.a.post("https://extension-service.evendor.app/api/blob",{registrationKey:"sup_61b589b5f03c42.30439098.1",token:"$5$rounds=5000mzcHt$J7H3Jh573tRrLtfPDDfbKxo8KhkmIRxeAdH7BHREUq7",uuid:"70ca7b25-24b4-40a5-8320-a9e105f65fb3",blob:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e.reponse)}))},ir=function(e,t){return new Promise((function(r,o){rr.a.post("".concat(e.repositoryServer,"/attachment"),t,{headers:{"Content-Type":"multipart/form-data"},params:{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid}}).then((function(e){console.log(e),r(e.data)})).catch((function(e){if(e.response){if(401==e.response.status)return alert("Unauthorized"),!1;console.log(e.response.data),o(e)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},ar=function(e,t){return new Promise((function(r,o){rr.a.delete("".concat(e.repositoryServer,"/temp_attachment"),{params:{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,attachment_uuid:t}}).then((function(e){console.log(e),r(e.data)})).catch((function(e){if(e.response){if(401==e.response.status)return alert("Unauthorized"),!1;console.log(e.response.data),o(e)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},cr={postReport:or,getReports:nr,postVideo:sr,postFiles:ir,deleteFile:ar},lr={name:"FileUpload",props:["account"],components:{},created:function(){this.postFiles=cr.postFiles,this.deleteFile=cr.deleteFile},mounted:function(){},data:function(){return{files:[]}},methods:{addFile:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=/(\.jpg|\.jpeg|\.bmp|\.gif|\.png|\.webm|\.avi|\.mpeg|\.mkv|\.doc|\.docx|\.xls|\.xlsx|\.pdf)$/i,o=e.$refs.file.files[0],n=o.name,!(o.size>5e7)){t.next=6;break}return alert("File size cannot exceed 50mb"),t.abrupt("return",!1);case 6:if(r.exec(n)){t.next=9;break}return alert("File extension not supported!"),t.abrupt("return",!1);case 9:e.files.push({name:n,id:""}),e.uploadFile(o,e.files.length-1);case 11:case"end":return t.stop()}}),t)})))()},uploadFile:function(e,t){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function o(){var n,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n=new FormData,n.append("attachment",e),o.prev=2,o.next=5,r.postFiles(r.account,n);case 5:s=o.sent,s&&(r.files[t]["id"]=s.result),o.next=13;break;case 9:o.prev=9,o.t0=o["catch"](2),alert("Sorry something went wrong, we couldn't upload the file(s)."),r.files.splice(t);case 13:case"end":return o.stop()}}),o,null,[[2,9]])})))()},removeFile:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.files[e]["id"],r.prev=1,r.next=4,t.deleteFile(t.account,o);case 4:n=r.sent,"success"==n.result&&t.files.splice(e),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),alert("Sorry something went wrong, we couldn't delete the file(s).");case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},getFiles:function(){return this.files.map((function(e){return e.id}))}}},ur=lr,dr=Object(ne["a"])(ur,Gt,er,!1,null,null,null),pr=dr.exports,mr=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){var o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,hr(t,r);case 2:o=e.sent,n=vr(o),console.log(n),console.log(o),s=document.getElementById("ui-br-ext-download-email"),s.href=vr(o),s.click();case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),hr=function(e){for(var t=["description","actualResults","expectedResults","stepsToReproduce"],r={description:"Description",actualResults:"Actual results",expectedResults:"Expected results",stepsToReproduce:"Steps to reproduce"},o="",n=0,s=t;n<s.length;n++){var i=s[n];e[i]&&e[i].length>0&&(o+='<div class="title"><b>'.concat(r[i],'</b><div>\n                        <div class="description"><pre>').concat(e[i],"</pre><div> <br>"))}e.saveScreenshot&&e.screenshot&&(o+='<img src="cid:screenshot">');var a='X-Unsent: 1\nSubject: Bug Report\nContent-Type: multipart/related;\n boundary="multipart_related_boundary"\n\nThis is a multi-part message in MIME format\n--multipart_related_boundary\nContent-Type: text/html\nContent-Transfer-Encoding: 7bit\n\n<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">\n    <html>\n    <head>\n    <style>\n    \n    </style>\n    </head>\n    <body>\n    <div class="main">'.concat(o,"</div>\n    </body>\n    </html>\n");if(e.saveScreenshot&&e.screenshot){var c=e.screenshot.replace("data:image/png;base64,",""),l='\n--multipart_related_boundary\nContent-Type: image/png; name="screenshot.png"\nContent-Transfer-Encoding: base64\nContent-ID: <screenshot>\nContent-Disposition: inline; filename="screenshot.png"\n\n'.concat(c);a+=l}return a},vr=function(e){var t=new Blob([e],{type:"text/plain"}),r=window.URL.createObjectURL(t);return r},gr={sendEmail:mr},fr={name:"ReportBugDrop",components:{ModuleDetails:wt,UserDetails:_t,Resize:Vt,ReportForm:Zt,ProjectDetails:Tt,FileUpload:pr},created:function(){this.onGetScreenshot=te.getScreenshot,this.getQueryWidth=te.getQueryWidth,this.getFileName=ht.getFileName,this.savePdf=ht.savePdf,this.getElementXpath=L.getElementXpath,this.sendEmail=gr.sendEmail,this.postBlob=cr.postBlob,this.postReport=cr.postReport},mounted:function(){var e,t=this;this.account=null===bn||void 0===bn||null===(e=bn.store)||void 0===e?void 0:e.account,this.currentModule=null===bn||void 0===bn?void 0:bn.store.currentModule,this.user=null===bn||void 0===bn?void 0:bn.store.user,this.project=null===bn||void 0===bn?void 0:bn.store.project,k.$on("account-loaded",(function(e){t.account=bn.store.account,t.currentModule=bn.store.currentModule,t.project=bn.store.project})),k.$on("user-loaded",(function(){t.user=bn.store.user}))},data:function(){return{next:!1,currentModule:{},account:{},user:{},project:{},report:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,sendEmail:!1,saveScreenshot:!1,screenshot:"",xPath:"",queryWidth:void 0,url:"",user:{}},filename:"",name:"test",elementId:"ui-br-ext-report-bug",submitInPorgress:!1}},methods:{formValidation:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=console,t.next=3,e.$refs.reportForm.formValidation();case 3:return t.t1=t.sent,t.t0.log.call(t.t0,t.t1),t.next=7,e.$refs.reportForm.formValidation();case 7:if(!t.sent){t.next=10;break}Object.assign(e.report,e.$refs.reportForm.form),e.saveReport();case 10:case"end":return t.stop()}}),t)})))()},saveReport:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.submitInPorgress=!0,e.filename=e.getFileName(e.currentModule.name),bn.store.dynamicDomFlow){t.next=7;break}return t.next=5,e.getScreenshot();case 5:t.next=9;break;case 7:e.report.screenshot=bn.store.screenshot,e.report.queryWidth=bn.store.queryWidth;case 9:if(e.report.saveScreenshot&&e.screenshotLink(e.report.screenshot,e.filename),!e.report.savePdf){t.next=13;break}return t.next=13,e.savePdf(e.report);case 13:if(e.report.saveJira&&console.log("save jira"),!e.report.sendEmail){t.next=17;break}return t.next=17,e.sendEmail(e.report);case 17:e.report.xPath=e.getElementXpath(bn.store.selectedElement),e.report.url=window.location,e.report.user=e.user,e.report.attachments=e.$refs.fileUploadForm.getFiles(),console.log(e.report),e.setTempReports(),e.submitReport();case 24:case"end":return t.stop()}}),t)})))()},getScreenshot:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("toggle-extension"),t.next=3,e.onGetScreenshot();case 3:return e.report.screenshot=t.sent,t.next=6,e.getQueryWidth();case 6:e.report.queryWidth=t.sent,e.$emit("toggle-extension");case 8:case"end":return t.stop()}}),t)})))()},screenshotLink:function(e,t){var r=this.$refs.downloadImageFull,o="image/png";r.download=t,r.href=e,r.dataset.downloadurl=[o,r.download,r.href].join(":"),r.click()},resetReportData:function(){this.report={description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,saveScreenshot:!1,screenshot:"",xPath:"",url:"",queryWidth:550,attachments:[]},bn.store.screenshot="",bn.store.dynamicDomFlow=!1,bn.store.selectedElement="",bn.store.currentElementInlineStyle="",bn.store.selectedElementRect="",this.$refs.reportForm.resetReportData(),this.submitInPorgress=!1,k.$emit("toggle-bug-drop",!1)},setTempReports:function(){bn.store.reports.push(this.report),console.log(bn.store.reports),k.$emit("report-loaded")},submitReport:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("currentModule",e.currentModule),t.prev=1,t.next=4,e.postReport(e.account,e.currentModule.moduleId,e.report);case 4:r=t.sent,console.log(r),r.result.bugId?(alert("Bug report successfully created."),e.resetReportData()):(alert("Sorry something went wrong. Please try later"),e.submitInPorgress=!1),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),alert("Sorry something went wrong. Please try later"),e.submitInPorgress=!1;case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},br=fr,xr=Object(ne["a"])(br,at,ct,!1,null,null,null),wr=xr.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-dropdown-item ui-br-ext-settings",attrs:{id:"ui-br-ext-settings"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Settings")]),r("div",{staticClass:"ui-br-ext-drop-body"},[e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifModule=!e.ifModule,e.ifProject=!1,e.ifAccount=!1,e.ifUser=!1}}},[e._v("Module")]),e.ifModule?r("Module"):e._e()],1):e._e(),e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifProject=!e.ifProject,e.ifModule=!1,e.ifAccount=!1,e.ifUser=!1}}},[e._v("Project")]),e.ifProject?r("Project"):e._e()],1):e._e(),r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifAccount=!e.ifAccount,e.ifProject=!1,e.ifModule=!1,e.ifUser=!1}}},[e._v("Account")]),e.ifAccount?r("Account"):e._e()],1),r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifUser=!e.ifUser,e.ifProject=!1,e.ifModule=!1,e.ifAccount=!1}}},[e._v("User")]),e.ifUser?r("User"):e._e()],1)])])},jr=[],kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[e.project&&e.project.projectKey?r("div",[1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-btn-link ui-br-ext-btn-create-project"},[r("span",{class:{active:e.showAddModule},attrs:{id:"ui-br-ext-btn-link"},on:{click:function(t){e.showAddModule=!e.showAddModule,e.moduleToEdit=void 0}}},[e._v("Create module")])]):e._e(),e.showAddModule?e._e():r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-modules"}},[e._v("Choose module")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.onSearch]}}),""!==e.searchQuery&&e.searchResults&&0==e.searchResults.length?r("span",{staticClass:"ui-br-ext-message"},[e._v("No modules found")]):e._e(),r("span",{staticClass:"ui-br-ext-search-icon"},[r("svg",{staticClass:"feather feather-search",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#00ad55","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),r("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}})])]),e.searchResults&&e.searchResults.length>0?r("div",{staticClass:"ui-br-ext-search-results"},[r("ul",e._l(e.searchResults.slice(0,10),(function(t){return r("li",{key:t.id},[r("span",{staticClass:"ui-br-ext-module-label",class:{"ui-br-ext-disabled":t.lkProjectStatusId},on:{click:function(r){return e.onResultClick(t)}}},[e._v(e._s(t.name))]),1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-module-icons"},[r("span",{on:{click:function(r){return e.onModuleEdit(Object.assign({},t))}}},[r("svg",{staticClass:"feather feather-edit-3",attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#666666","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M12 20h9"}}),r("path",{attrs:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}})])])]):e._e()])})),0)]):e._e()]),e.showAddModule?e._e():r("ProjectDetails",{attrs:{project:e.project}}),e.showAddModule?e._e():r("ModuleDetails",{attrs:{module:e.currentModule}}),e.showAddModule?r("EditModule",{attrs:{project:e.project,module:e.moduleToEdit,account:e.account,user:e.user},on:{saveModule:e.saveModule,cancelEditing:e.cancelEditing,deleteModule:e.deleteModule}}):e._e()],1):e._e(),e.project.id?e._e():r("div",{staticClass:"ui-br-ext-warning-text"},[e._v(" Choose project first ")])])},Cr=[],Rr=r("5530"),_r=(r("e9c4"),r("ade3")),Pr=function(e){return new Promise((function(t,r){chrome.storage.local.get((function(o){if(chrome.runtime.lastError)return r(chrome.runtime.lastError);t(o[e])}))}))},Mr=function(e,t){return new Promise((function(r,o){try{chrome.storage.local.set(Object(_r["a"])({},e,t),(function(){r(!0)}))}catch(n){console.log(n),o(!1)}}))},Sr={get:Pr,set:Mr},Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"ui-br-ext-form-title"},[e._v(e._s(e.action))]),r("form",{attrs:{novalidate:"",name:"ui-br-ext-new-module",onsubmit:"return false"}},[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-module-label"}},[e._v("Module name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newModule.name,expression:"newModule.name"}],attrs:{type:"text",name:"ui-br-ext-new-module-label",maxlength:"10",minlength:"2"},domProps:{value:e.newModule.name},on:{input:function(t){t.target.composing||e.$set(e.newModule,"name",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.errorMessage.name))])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-module-label"}},[e._v("Module description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newModule.description,expression:"newModule.description"}],attrs:{type:"text",name:"ui-br-ext-new-module-label"},domProps:{value:e.newModule.description},on:{input:function(t){t.target.composing||e.$set(e.newModule,"description",t.target.value)}}})]),e.newModule.id&&!e.newModule.allowDelete?r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newModule.inactivate,expression:"newModule.inactivate"}],attrs:{type:"checkbox",name:"jira",id:"ui-br-ext-save-to-jira"},domProps:{checked:Array.isArray(e.newModule.inactivate)?e._i(e.newModule.inactivate,null)>-1:e.newModule.inactivate},on:{change:function(t){var r=e.newModule.inactivate,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.newModule,"inactivate",r.concat([s])):i>-1&&e.$set(e.newModule,"inactivate",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.newModule,"inactivate",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-jira"}},[e._v("Inactivate")])]):e._e()]),r("div",{staticClass:"ui-br-ext-btn-group"},[(e.newModule.id,e._e()),e.newModule.id&&e.newModule.allowDelete?r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:e.deleteModule}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Delete")])]):e._e(),r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:e.saveModule}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Save")])]),r("button",{staticClass:"ui-br-ext-btn-danger",attrs:{"data-listener":"off"},on:{click:function(t){return e.resetModule()}}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Cancel")])])])])},Ar=[],Tr=function(e){var t=0;return e.saveToJira&&(t=1),console.log(e),console.log(t),new Promise((function(t,r){rr.a.post("".concat(e.repositoryServer,"/module"),{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,name:e.name,description:e.description,projectId:e.projectId}).then((function(e){console.log(e),t(e.data)})).catch((function(e){if(e.response){if(401==e.response.status)return alert("Unauthorized"),!1;console.log(e.response.data),r(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},$r=function(e){return new Promise((function(t,r){rr.a.patch("".concat(e.repositoryServer,"/module"),{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,name:e.name,description:e.description,projectId:e.projectId,lkModuleStatusId:e.lkModuleStatusId,moduleId:e.moduleId}).then((function(e){console.log(e.data),t(e.data)})).catch((function(e){if(console.log(e.response),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;r(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},Or=function(e,t,r){return console.log(e.registrationKey),console.log(e.token),console.log(r),new Promise((function(o,n){rr.a.get("".concat(e.repositoryServer,"/module"),{params:{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,query:t,projectId:r}}).then((function(e){console.log(e),o(e.data.result)})).catch((function(e){if(console.log(e.reponse),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;n(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},Dr=function(e,t,r){return console.log(e),console.log(t.token),new Promise((function(r,o){rr.a.delete("".concat(t.repositoryServer,"/module"),{params:{registrationKey:t.registrationKey,token:t.token,uuid:t.uuid,moduleId:e}}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){if(console.log(e.reponse),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;o(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},Br={postModule:Tr,patchModule:$r,getModules:Or,deleteModule:Dr},Ir={name:"EditModule",props:["module","account","user","project"],mounted:function(){this.isEditing()},created:function(){this.post=Br.postModule,this.patch=Br.patchModule,this.delete=Br.deleteModule},data:function(){return{newModule:{name:"",description:"",inactivate:!1},errorMessage:{name:""},action:"Create new module",moduleStatusEnum:{active:1,inactive:2}}},methods:{saveModule:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errorMessage.name="",e.newModule.name=e.newModule.name.trim(),e.newModule.description=e.newModule.description.trim(),!e.newModule.name||""==e.newModule.name){t.next=25;break}if(t.prev=4,r=void 0,!e.newModule.moduleId){t.next=12;break}return t.next=9,e.patch(Object(Rr["a"])(Object(Rr["a"])(Object(Rr["a"])({},e.newModule),e.account),{},{projectId:e.project.id}));case 9:r=t.sent,t.next=15;break;case 12:return t.next=14,e.post(Object(Rr["a"])(Object(Rr["a"])(Object(Rr["a"])({},e.newModule),e.account),{},{projectId:e.project.id}));case 14:r=t.sent;case 15:console.log(r.result),r&&e.$emit("saveModule",r.result),t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](4),console.log(t.t0.error),e.errorMessage.name=t.t0.error;case 23:t.next=26;break;case 25:e.errorMessage.name="Enter module key";case 26:case"end":return t.stop()}}),t,null,[[4,19]])})))()},resetModule:function(){this.newModule.name="",this.newModule.description="",this.newModule.saveToJira=void 0,this.action="Create new module",delete this.newModule.id,this.$emit("cancelEditing")},deleteModule:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you suuure?")){e.next=13;break}return e.prev=1,e.next=4,t.delete(t.module.id,t.account,t.project.id);case 4:r=e.sent,console.log("success"==r.status),r?t.$emit("deleteModule"):alert("Sorry. Something went wrong. Please try later."),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0),alert("Sorry. Something went wrong. Please try later.");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},activateModule:function(e){console.log(e)},isEditing:function(){this.module&&this.module.id&&(this.action="Edit module",this.newModule=Object(Rr["a"])({},this.module),console.log(this.newModule),this.newModule.inactivate=this.newModule.lkModuleStatusId!=this.moduleStatusEnum.active)}}},Fr=Ir,Kr=Object(ne["a"])(Fr,Er,Ar,!1,null,null,null),Ur=Kr.exports,Lr={name:"Module",components:{ModuleDetails:wt,ProjectDetails:Tt,EditModule:Ur},created:function(){this.localStorage=Sr},mounted:function(){this.account=bn.store.account,this.currentModule=bn.store.currentModule,this.user=bn.store.user,this.project=bn.store.project,this.get=Br.getModules},data:function(){return{showAddModule:!1,project:{},moduleToEdit:void 0,module:{name:"",description:""},searchQuery:"",moduleMessage:"",currentModule:{},account:{},searchResults:[]}},methods:{onSearch:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.searchQuery=e.searchQuery.trim(),e.getModules()}),300)},getModules:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.searchQuery.length){t.next=12;break}return t.prev=1,t.next=4,e.get(e.account,e.searchQuery,e.project.id);case 4:e.searchResults=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:t.next=13;break;case 12:e.searchResults=[];case 13:case"end":return t.stop()}}),t,null,[[1,7]])})))()},onResultClick:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.searchQuery="",t.searchResults=[],t.currentModule=e,bn.store.currentModule=e,k.$emit("account-loaded"),r.next=7,t.saveToLocal();case 7:case"end":return r.stop()}}),r)})))()},saveToLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.stringify(e.currentModule),t.prev=1,t.next=4,e.localStorage.set("module",r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},onModuleEdit:function(e){this.searchQuery="",this.searchResults=[],this.showAddModule=!0,this.moduleToEdit=Object(Rr["a"])({},e)},saveModule:function(e){this.onResultClick(e),this.cancelEditing()},cancelEditing:function(){this.showAddModule=!1,this.moduleToEdit=void 0},deleteModule:function(){this.onResultClick(void 0),this.cancelEditing()}}},Nr=Lr,Jr=Object(ne["a"])(Nr,kr,Cr,!1,null,null,null),zr=Jr.exports,Vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[r("div",{staticClass:"ui-br-ext-btn-link ui-br-ext-btn-create-project"},[r("span",{class:{active:e.showAddKey},attrs:{id:"ui-br-ext-btn-link"},on:{click:function(t){e.showAddKey=!e.showAddKey}}},[e._v("Add license key")])]),e.showAddKey?e._e():r("ul",{staticClass:"ui-br-ext-info-list"},[r("div",{staticClass:"ui-br-ext-spacer-1"}),e.account&&e.account.registrationKey?r("li",[e._m(0),r("br"),r("span",[e._v(" "+e._s(e.account.registrationKey))])]):e._e(),r("div",{staticClass:"ui-br-ext-spacer-1"})]),e.showAddKey?r("div",[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"regKey"}},[e._v("License Key")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.reg.key,expression:"reg.key"}],attrs:{type:"text",name:"regKey"},domProps:{value:e.reg.key},on:{input:function(t){t.target.composing||e.$set(e.reg,"key",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.reg.error))])]),r("button",{staticClass:"ui-br-ext-btn",class:{disabled:e.reg.spinner},attrs:{id:"ui-br-ext-save-new-module","data-listener":"off",disabled:e.reg.spinner}},[r("span",{staticClass:"ui-br-ext-spinner",class:{active:e.reg.spinner}}),r("span",{on:{click:e.onRegKeySave}},[e._v("Save")])])]):e._e()])},Xr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("License Key:")])])}],qr=function(e){return new Promise((function(t,r){fetch("https://extension-auth.evendor.app/api/get_config?RegistrationKey=".concat(e)).then((function(e){if(e.ok)return e.json();401===e.status?r("Invalid registration key"):r("Sorry, something went wrong")})).then((function(e){t(e)})).catch((function(e){r("Sorry, something went wrong")}))}))},Yr={auth:qr},Qr={name:"Account",created:function(){this.auth=Yr.auth,this.localStorage=Sr},mounted:function(){this.account=bn.store.account},data:function(){return{account:{},isRegKeySaved:!1,showAddKey:!1,reg:{key:"",error:"",spinner:!1}}},methods:{onRegKeySave:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.reg.error="",""===e.reg.key.trim()){t.next=26;break}if(!e.account||!e.account.registrationKey){t.next=7;break}if(r=confirm("Do you want to change the registration key?"),r){t.next=7;break}return e.reg.key="",t.abrupt("return",!1);case 7:return e.reg.spinner=!0,t.next=10,e.auth(e.reg.key).catch((function(t){e.reg.error=t,e.reg.spinner=!1}));case 10:if(e.account=t.sent,!e.account){t.next=24;break}return bn.store.account=e.account,k.$emit("regkey-updated"),t.prev=14,t.next=17,e.localStorage.set("regKey",e.reg.key);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](14),console.log(t.t0);case 22:e.reg.spinner=!1,e.showAddKey=!1;case 24:t.next=28;break;case 26:e.reg.error="Enter registration key",e.reg.spinner=!1;case 28:case"end":return t.stop()}}),t,null,[[14,19]])})))()}}},Hr=Qr,Wr=Object(ne["a"])(Hr,Vr,Xr,!1,null,null,null),Zr=Wr.exports,Gr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-btn-link ui-br-ext-btn-create-project"},[r("span",{class:{active:e.showAddProject},attrs:{id:"ui-br-ext-btn-link"},on:{click:function(t){e.showAddProject=!e.showAddProject,e.projectToEdit=void 0}}},[e._v("Create project")])]):e._e(),e.showAddProject?e._e():r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-modules"}},[e._v("Choose project")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.onSearch]}}),""!==e.searchQuery&&e.searchQuery.length>2&&e.searchResults&&0==e.searchResults.length?r("span",{staticClass:"ui-br-ext-message"},[e._v("No project found")]):e._e(),r("span",{staticClass:"ui-br-ext-search-icon"},[r("svg",{staticClass:"feather feather-search",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#00ad55","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),r("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}})])]),e.searchResults&&e.searchResults.length>0?r("div",{staticClass:"ui-br-ext-search-results"},[r("ul",e._l(e.searchResults.slice(0,10),(function(t){return r("li",{key:t.jiraId},[r("span",{staticClass:"ui-br-ext-module-label",class:{"ui-br-ext-disabled":2==t.lkProjectStatusId},on:{click:function(r){return e.onResultClick(t)}}},[e._v(e._s(t.projectKey))]),1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-module-icons"},[r("span",{on:{click:function(r){return e.onProjectEdit(t)}}},[r("svg",{staticClass:"feather feather-edit-3",attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#666666","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M12 20h9"}}),r("path",{attrs:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}})])])]):e._e()])})),0)]):e._e()]),e.showAddProject?e._e():r("ProjectDetails",{attrs:{project:e.project}}),e.showAddProject?r("EditProject",{attrs:{project:e.projectToEdit,account:e.account,user:e.user},on:{saveProject:e.saveProject,cancelEditing:e.cancelEditing,deleteProject:e.deleteProject}}):e._e()],1)},eo=[],to=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"ui-br-ext-form-title"},[e._v(e._s(e.action))]),r("form",{attrs:{novalidate:"",name:"ui-br-ext-new-project",onsubmit:"return false"}},[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-project-label"}},[e._v("Project key")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProject.projectKey,expression:"newProject.projectKey"}],attrs:{type:"text",name:"ui-br-ext-new-project-label",maxlength:"10",minlength:"2",disabled:e.newProject.id&&2==e.newProject.lkProjectStatusId},domProps:{value:e.newProject.projectKey},on:{input:function(t){t.target.composing||e.$set(e.newProject,"projectKey",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.errorMessage.projectKey))])]),e.newProject.saveToJira?r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-project-label"}},[e._v("Jira id")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProject.jiraId,expression:"newProject.jiraId"}],attrs:{type:"text",name:"ui-br-ext-new-project-label",maxlength:"10",minlength:"2"},domProps:{value:e.newProject.jiraId},on:{input:function(t){t.target.composing||e.$set(e.newProject,"jiraId",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.errorMessage.jiraId))])]):e._e(),e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProject.saveToJira,expression:"newProject.saveToJira"}],attrs:{type:"checkbox",name:"jira",id:"ui-br-ext-save-to-jira"},domProps:{checked:Array.isArray(e.newProject.saveToJira)?e._i(e.newProject.saveToJira,null)>-1:e.newProject.saveToJira},on:{change:function(t){var r=e.newProject.saveToJira,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.newProject,"saveToJira",r.concat([s])):i>-1&&e.$set(e.newProject,"saveToJira",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.newProject,"saveToJira",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-jira"}},[e._v("Jira project")])]):e._e()]),r("div",{staticClass:"ui-br-ext-btn-group"},[e.newProject.id&&2==e.newProject.lkProjectStatusId?r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:function(t){return e.projectStatus(1)}}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Activate")])]):e._e(),e.newProject.id&&!e.newProject.allowDelete&&1==e.newProject.lkProjectStatusId?r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:function(t){return e.projectStatus(2)}}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Inactivate")])]):e._e(),e.newProject.id&&e.newProject.allowDelete?r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:e.deleteProject}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Delete")])]):e._e(),r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:e.saveProject}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Save")])]),r("button",{staticClass:"ui-br-ext-btn-danger",attrs:{"data-listener":"off"},on:{click:function(t){return e.resetProject()}}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Cancel")])])])])},ro=[],oo=function(e){var t=0;return e.saveToJira&&(t=1),console.log(e),console.log(t),new Promise((function(r,o){rr.a.post("".concat(e.repositoryServer,"/project"),{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,saveToJira:t,projectKey:e.projectKey,jiraId:e.jiraId}).then((function(e){console.log(e),r(e.data)})).catch((function(e){if(e.response){if(401==e.response.status)return alert("Unauthorized"),!1;console.log(e.response.data),o(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},no=function(e){return console.log(e),new Promise((function(t,r){rr.a.patch("".concat(e.repositoryServer,"/project-status"),{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,lkProjectStatusId:e.lkProjectStatusId,id:e.id}).then((function(e){console.log(e.data),t(e.data)})).catch((function(e){if(console.log(e.response),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;r(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},so=function(e){var t=0;return e.saveToJira&&(t=1),console.log(e),new Promise((function(r,o){rr.a.patch("".concat(e.repositoryServer,"/project"),{registrationKey:e.registrationKey,token:e.token,saveToJira:t,uuid:e.uuid,projectKey:e.projectKey,jiraId:e.jiraId,lkProjectStatusId:e.lkProjectStatusId,id:e.id}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){if(console.log(e.response),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;o(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},io=function(e,t){return new Promise((function(r,o){rr.a.get("".concat(e.repositoryServer,"/project"),{params:{registrationKey:e.registrationKey,token:e.token,uuid:e.uuid,query:t,includeInactive:e.isAdmin}}).then((function(e){console.log(e),r(e.data.result)})).catch((function(e){if(console.log(e.reponse),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;o(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},ao=function(e,t){return console.log(e),console.log(t.token),new Promise((function(r,o){rr.a.delete("".concat(t.repositoryServer,"/project"),{params:{registrationKey:t.registrationKey,token:t.token,uuid:t.uuid,id:e}}).then((function(e){console.log(e.data),r(e.data)})).catch((function(e){if(console.log(e.reponse),e.response){if(401==e.response.status)return alert("Unauthorized"),!1;o(e.response.data)}else e.request?alert("Please check connection"):alert("Sorry, something went wrong please try again later")}))}))},co={postProject:oo,patchProject:so,getProjects:io,deleteProject:ao,statusPatchProject:no},lo={name:"EditProject",props:["project","account","user"],mounted:function(){this.isEditing()},created:function(){this.post=co.postProject,this.patch=co.patchProject,this.statusPatch=co.statusPatchProject,this.delete=co.deleteProject},data:function(){return{newProject:{projectKey:"",jiraId:"",saveToJira:!1,inactivate:!1},errorMessage:{projectKey:"",jiraId:""},action:"Create new project",projectStatusEnum:{active:1,inactive:2}}},methods:{saveProject:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errorMessage.projectKey="",e.errorMessage.jiraId="",e.newProject.projectKey=e.newProject.projectKey.trim(),""==e.newProject.projectKey){t.next=30;break}if(e.newProject.saveToJira&&e.newProject.jiraId&&(e.newProject.jiraId=e.newProject.jiraId.toString().trim()),!e.newProject.saveToJira||""!=e.newProject.jiraId){t.next=8;break}return e.errorMessage.jiraId="Enter jira id ",t.abrupt("return",!1);case 8:if(t.prev=8,r=void 0,!e.newProject.id){t.next=17;break}return e.newProject.inactivate&&(e.newProject.lkProjectStatusId=2),t.next=14,e.patch(Object(Rr["a"])(Object(Rr["a"])({},e.newProject),e.account));case 14:r=t.sent,t.next=20;break;case 17:return t.next=19,e.post(Object(Rr["a"])(Object(Rr["a"])({},e.newProject),e.account));case 19:r=t.sent;case 20:console.log(r),r.result&&(2==r.result.lkProjectStatusId&&(r={}),e.$emit("saveProject",r.result)),t.next=28;break;case 24:t.prev=24,t.t0=t["catch"](8),console.log(t.t0.error),e.errorMessage.projectKey=t.t0.error;case 28:t.next=31;break;case 30:e.errorMessage.projectKey="Enter project key";case 31:case"end":return t.stop()}}),t,null,[[8,24]])})))()},resetProject:function(){this.newProject.projectKey="",this.newProject.jiraId="",this.newProject.saveToJira=void 0,this.action="Create new project",delete this.newProject.id,this.$emit("cancelEditing")},deleteProject:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you suuure?")){e.next=12;break}return e.prev=1,e.next=4,t.delete(t.project.id,t.account);case 4:r=e.sent,r?t.$emit("deleteProject"):alert("Sorry. Something went wrong. Please try later."),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),alert("Sorry. Something went wrong. Please try later.");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},projectStatus:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.newProject.lkProjectStatusId=e,r.next=4,t.statusPatch(Object(Rr["a"])(Object(Rr["a"])({},t.newProject),t.account));case 4:o=r.sent,console.log(o),o.result&&t.$emit("saveProject",o.result),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0.error),t.errorMessage.projectKey=r.t0.error;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},isEditing:function(){this.project&&this.project.id&&(this.action="Edit project",this.newProject=Object(Rr["a"])({},this.project),this.newProject.inactivate=this.newProject.lkProjectStatusId!=this.projectStatusEnum.active)}}},uo=lo,po=Object(ne["a"])(uo,to,ro,!1,null,null,null),mo=po.exports,ho={name:"Project",components:{ProjectDetails:Tt,EditProject:mo},created:function(){this.localStorage=Sr},mounted:function(){var e=this;this.account=bn.store.account,this.project=bn.store.project,this.user=bn.store.user,this.get=co.getProjects,k.$on("regkey-updated",(function(){e.onResultClick({})}))},data:function(){return{showAddProject:!1,project:{},searchQuery:"",timeout:null,searchResults:[],projectToEdit:void 0,account:{}}},methods:{onResultClick:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),t.searchQuery="",t.searchResults=[],t.project=e,bn.store.project=e,bn.store.currentModule={},k.$emit("account-loaded"),r.next=9,t.saveToLocal();case 9:case"end":return r.stop()}}),r)})))()},onSearch:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.searchQuery=e.searchQuery.trim(),e.getProjects()}),300)},getProjects:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.searchQuery.length){t.next=12;break}return t.prev=1,t.next=4,e.get(e.account,e.searchQuery);case 4:e.searchResults=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:t.next=13;break;case 12:e.searchResults=[];case 13:case"end":return t.stop()}}),t,null,[[1,7]])})))()},saveToLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=JSON.stringify(e.project),t.prev=1,t.next=4,e.localStorage.set("project",r);case 4:alert("project ".concat(e.newProject.projectKey," successfully saved")),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},onProjectEdit:function(e){this.searchQuery="",this.searchResults=[],this.showAddProject=!0,this.projectToEdit=Object(Rr["a"])({},e)},saveProject:function(e){this.onResultClick(e),this.cancelEditing()},cancelEditing:function(){this.showAddProject=!1,this.projectToEdit=void 0},deleteProject:function(){this.onResultClick(void 0),this.cancelEditing()}}},vo=ho,go=Object(ne["a"])(vo,Gr,eo,!1,null,null,null),fo=go.exports,bo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[r("div",{staticClass:"ui-br-ext-btn-link ui-br-ext-btn-create-project"},[r("span",{class:{active:e.showAddUser},attrs:{id:"ui-br-ext-btn-link"},on:{click:function(t){e.showAddUser=!e.showAddUser}}},[e._v("Add user")])]),e.showAddUser?e._e():r("UserDetails",{attrs:{user:e.user}}),e.showAddUser?r("div",[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"firstname"}},[e._v("First name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.firstname,expression:"userForm.firstname"}],attrs:{type:"text",name:"firstname"},domProps:{value:e.userForm.firstname},on:{input:function(t){t.target.composing||e.$set(e.userForm,"firstname",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"lastname"}},[e._v("Last name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.lastname,expression:"userForm.lastname"}],attrs:{type:"text",name:"lastname"},domProps:{value:e.userForm.lastname},on:{input:function(t){t.target.composing||e.$set(e.userForm,"lastname",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.email,expression:"userForm.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.userForm.email},on:{input:function(t){t.target.composing||e.$set(e.userForm,"email",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-new-module","data-listener":"off"}},[r("span",{staticClass:"ui-br-ext-spinner",class:{active:e.spinner}}),r("span",{on:{click:e.onUserSave}},[e._v("Save")])])]):e._e()],1)},xo=[],wo={name:"User",components:{UserDetails:_t},created:function(){this.localStorage=Sr},mounted:function(){this.user=bn.store.user},data:function(){return{userForm:{firstname:"",lastname:"",email:""},spinner:!1,user:{},showAddUser:!1}},methods:{onUserSave:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.userForm),r=JSON.stringify(e.userForm),t.next=4,e.localStorage.set("user",r);case 4:bn.store.user=e.userForm,e.user=e.userForm,k.$emit("user-loaded"),e.userForm={firstname:"",lastname:"",email:""},e.showAddUser=!1;case 9:case"end":return t.stop()}}),t)})))()}}},yo=wo,jo=Object(ne["a"])(yo,bo,xo,!1,null,null,null),ko=jo.exports,Co={name:"SettingsDrop",components:{Module:zr,Account:Zr,User:ko,Project:fo},mounted:function(){var e,t=this;this.account=null===bn||void 0===bn||null===(e=bn.store)||void 0===e?void 0:e.account,this.currentModule=null===bn||void 0===bn?void 0:bn.store.currentModule,k.$on("account-loaded",(function(e){t.account=bn.store.account,t.currentModule=bn.store.currentModule})),k.$on("regkey-updated",(function(e){t.account=bn.store.account,t.currentModule=bn.store.currentModule}))},data:function(){return{ifModule:!1,ifAccount:!1,ifUser:!1,ifProject:!1,currentModule:{},account:{}}},methods:{}},Ro=Co,_o=Object(ne["a"])(Ro,yr,jr,!1,null,null,null),Po=_o.exports,Mo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"divToResize",staticClass:"ui-br-ext-dropdown-item ui-br-ext-review",attrs:{id:"ui-br-ext-review"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Reports")]),r("div",{staticClass:"ui-br-ext-drop-body"},[e.toggle.allReports?r("AllReports",{attrs:{reports:e.reports,module:e.currentModule},on:{"show-details":e.showDetails}}):e._e(),e.toggle.details?r("ReportDetails",{attrs:{project:e.project,report:e.report,module:e.currentModule},on:{"close-details":e.closeDetails,"delete-report":e.deleteReport,"edit-report":e.editReport}}):e._e(),e.toggle.edit?r("EditReport",{attrs:{report:e.report},on:{"save-edited-report":e.saveEditedReport,"cancel-edit-report":e.cancelEditReport}}):e._e()],1),r("Resize",{attrs:{elementId:e.elementId}})],1)},So=[],Eo=(r("c740"),r("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ModuleDetails",{attrs:{module:e.currentModule}}),e._l(e.reportsToDisplay,(function(t,o){return r("div",{key:o,staticClass:"ui-br-ext-review-card"},[r("UserDetails",{attrs:{user:t.user}}),t.description?r("div",{staticClass:"ui-br-ext-review-box ui-br-ext-ellipsis",on:{click:function(t){return e.showDetails(o)}}},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Description:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(t.description))])]):e._e(),t.screenshot?r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:function(r){return e.showImage(t.screenshot)}}},[e._v("Screenshot")]):e._e()],1)}))],2)}),Ao=[],To=(r("4de4"),{name:"AllReports",components:{UserDetails:_t,ModuleDetails:wt},props:["reports","currentModule"],mounted:function(){this.reportsToDisplay=this.reports.filter((function(e){return!e.element}))},data:function(){return{reportsToDisplay:[]}},methods:{showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},showDetails:function(e){this.$emit("show-details",e)}}}),$o=To,Oo=Object(ne["a"])($o,Eo,Ao,!1,null,null,null),Do=Oo.exports,Bo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"ui-br-ext-close-details",on:{click:e.close}},[e._v("Close")]),e.report?r("div",{staticClass:"ui-br-ext-review-card"},[r("ProjectDetails",{attrs:{project:e.project}}),r("ModuleDetails",{attrs:{module:e.module}}),r("UserDetails",{attrs:{user:e.report.user}}),r("div",{staticClass:"ui-br-ext-spacer-3"}),e.report.description?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Description:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.description))])]):e._e(),e.report.stepsToReproduce?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Steps to reproduce:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.stepsToReproduce))])]):e._e(),e.report.actualResults?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Actual results:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.actualResults))])]):e._e(),e.report.expectedResults?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Expected results:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.expectedResults))])]):e._e(),r("div",[r("span",{staticClass:"ui-br-ext-btn-lnk",class:{disabled:!e.report.screenshot},on:{click:function(t){return e.showImage(e.report.screenshot)}}},[e._v("View screenshot")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.pdf}},[e._v("Export PDF")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.addJira}},[e._v("Add JIRA ticket")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.createJira}},[e._v("Create JIRA issue")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.edit}},[e._v("Edit report")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.deleteReport}},[e._v("Delete report")])])],1):e._e()])},Io=[],Fo={name:"ReportDetails",components:{ModuleDetails:wt,UserDetails:_t,ProjectDetails:Tt},props:["report","module","project"],created:function(){this.getFileName=ht.getFileName,this.savePdf=ht.savePdf},data:function(){return{filename:""}},methods:{showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},addJira:function(){console.log("addjira")},createJira:function(){console.log("create jira")},pdf:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.filename=e.getFileName(e.module.name),console.log(e.report),t.next=4,e.savePdf(e.report);case 4:case"end":return t.stop()}}),t)})))()},close:function(){this.$emit("close-details")},edit:function(){console.log(this.report),this.$emit("edit-report",this.report)},deleteReport:function(){var e=confirm("Are you sure?");e&&this.$emit("delete-report",this.report)}}},Ko=Fo,Uo=Object(ne["a"])(Ko,Bo,Io,!1,null,null,null),Lo=Uo.exports,No=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ReportForm",{ref:"reportForm",attrs:{report:e.report}}),r("div",{staticClass:"ui-br-ext-btn-group"},[r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-report","data-listener":"off"},on:{click:e.saveReport}},[r("span",[e._v("Save")])]),r("button",{staticClass:"ui-br-ext-btn-danger",attrs:{"data-listener":"off"},on:{click:e.cancel}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Cancel")])])])],1)},Jo=[],zo={name:"ReviewDrop",components:{ReportForm:Zt},props:["report"],data:function(){return{}},methods:{saveReport:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object.assign(e.report,e.$refs.reportForm.form),e.$emit("save-edited-report",e.report);case 2:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("cancel-edit-report")}}},Vo=zo,Xo=Object(ne["a"])(Vo,No,Jo,!1,null,null,null),qo=Xo.exports,Yo={name:"ReviewDrop",components:{AllReports:Do,ReportDetails:Lo,Resize:Vt,EditReport:qo},created:function(){this.addClickBlocker=S.addClickBlocker,this.removeSingleClickBlocker=S.removeSingleClickBlocker,this.removeClickBlocker=S.removeClickBlocker},mounted:function(){var e=this;this.reports=bn.store.reports,this.currentModule=null===bn||void 0===bn?void 0:bn.store.currentModule,this.project=bn.store.project,this.showElements(),k.$on("show-details",(function(t){e.showDetails(t)}))},data:function(){return{ifModule:!1,ifAccount:!1,ifUser:!1,currentModule:{},account:{},reports:[],report:void 0,project:{},toggle:{allReports:!0,details:!1,edit:!1},elementId:"ui-br-ext-review"}},methods:{showElements:function(){console.log(this.reports);for(var e=0;e<this.reports.length;e++)if(this.selectElement(e),e==this.reports.length-1){var t=document.querySelectorAll(".ui-br-ext-outlined-element");this.addClickBlocker(t)}},selectElement:function(e){var t=this.reports[e],r=document.evaluate(t.xPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;r?(t.element=r,r.classList.add("ui-br-ext-outlined-element"),r.style.cssText=r.style.cssText+"outline: red dashed 3px !important;",r.setAttribute("data-ext-index",e)):(t.element=!1,this.reports.splice(e,1),this.reports.push(t),console.log(this.reports),k.$on("report-loaded"))},closeDetails:function(){this.toggleChildren("allReports")},showDetails:function(e){this.report=this.reports[e],this.toggleChildren("details")},showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},deleteReport:function(e){var t=this.reports.findIndex((function(t){return t.xPath==e.xPath}));this.closeDetails(),this.reports.splice(t,1),this.removeClickBlocker(),e.element.classList.remove("ui-br-ext-outlined-element"),e.element.style.cssText=e.element.style.cssText.replace("outline: red dashed 3px !important;",""),e.element.removeAttribute("data-ext-index"),this.showElements()},editReport:function(e){this.report=e,this.toggleChildren("edit"),console.log(e)},saveEditedReport:function(e){var t=this.reports.findIndex((function(t){return t.xPath==e.xPath}));this.reports[t]=e,console.log(e),this.showDetails(t)},cancelEditReport:function(){this.toggleChildren("details")},toggleChildren:function(e){var t=this;Object.keys(this.toggle).forEach((function(r){t.toggle[r]=r==e}))}}},Qo=Yo,Ho=Object(ne["a"])(Qo,Mo,So,!1,null,null,null),Wo=Ho.exports,Zo=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-dropdown-item ui-br-ext-video",attrs:{id:"ui-br-ext-video"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Screen Capture")]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.upload,expression:"upload"}],attrs:{type:"checkbox",name:"jira",disabled:e.canUpload,id:"ui-br-ext-upload-video"},domProps:{checked:Array.isArray(e.upload)?e._i(e.upload,null)>-1:e.upload},on:{change:function(t){var r=e.upload,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&(e.upload=r.concat([s])):i>-1&&(e.upload=r.slice(0,i).concat(r.slice(i+1)))}else e.upload=n}}}),r("label",{attrs:{for:"ui-br-ext-upload-video"}},[e._v("Upload")])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.download,expression:"download"}],attrs:{type:"checkbox",name:"pdf",id:"ui-br-ext-download-video"},domProps:{checked:Array.isArray(e.download)?e._i(e.download,null)>-1:e.download},on:{change:function(t){var r=e.download,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&(e.download=r.concat([s])):i>-1&&(e.download=r.slice(0,i).concat(r.slice(i+1)))}else e.download=n}}}),r("label",{attrs:{for:"ui-br-ext-download-video"}},[e._v("Download")])]),r("div",{staticClass:"ui-br-ext-btn-group"},[r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-report","data-listener":"off"},on:{click:e.preview}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Preview")])]),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-report","data-listener":"off"},on:{click:e.saveVideo}},[r("span",[e._v("Save")])]),r("button",{staticClass:"ui-br-ext-btn-danger",attrs:{"data-listener":"off"},on:{click:function(t){return e.cancelRecord()}}},[r("span",[e._v("Cancel")])])]),r("a",{ref:"downloadVideo",staticStyle:{display:"none !important"},attrs:{href:""}})])},Go=[],en={name:"VideoRecordDrop",components:{},computed:{},mounted:function(){this.account=bn.store.account,this.module=bn.store.currentModule,this.project=bn.store.project,this.canUpload=this.isUploadable()},data:function(){return{upload:!1,download:!1,canUpload:!1}},methods:{isUploadable:function(){if(this.project&&this.project.id&&this.module&&this.module.id)return!0},startVideo:function(){console.log("start")},stopRecord:function(){console.log("stop")},saveVideo:function(){this.upload&&k.$emit("upload"),this.download&&k.$emit("download")},preview:function(){console.log("preview"),k.$emit("preview")},cancelRecord:function(){k.$emit("toggle-video-drop",{drop:!1,videoMode:!1})}}},tn=en,rn=Object(ne["a"])(tn,Zo,Go,!1,null,null,null),on=rn.exports,nn={name:"Dropdown",components:{ReportBugDrop:wr,SettingsDrop:Po,ReviewDrop:Wo,VideoRecordDrop:on},props:["dropToToggle"],watch:{dropToToggle:function(e,t){this.toggleDropdown(e.id,e.state,t.id)}},data:function(){return{toggleCompleted:!1,toggleReportBugDrop:!1,drops:{reportbug:!1,settings:!1,review:!1,reportdetails:!1,video:!1},reportIndex:void 0}},methods:{toggleDropdown:function(e,t,r){console.log(e,t,r),this.drops[r]=!1,this.drops[e]=t}}},sn=nn,an=Object(ne["a"])(sn,st,it,!1,null,null,null),cn=an.exports,ln={name:"Extension",components:{MainMenu:nt,Dropdown:cn},data:function(){return{dropToToggle:{},toggleExtensionVal:!0}},methods:{toggleDrop:function(e){this.dropToToggle=e},toggleExtension:function(e){this.toggleExtensionVal=!this.toggleExtensionVal}}},un=ln,dn=Object(ne["a"])(un,l,u,!1,null,null,null),pn=dn.exports,mn={name:"App",components:{Extension:pn},data:function(){return{regKey:"",account:{}}},created:function(){this.localStorage=Sr,this.auth=Yr.auth,this.getRegKey(),this.getUserFromLocal(),this.getProjectFromLocal(),this.getModuleFromLocal()},watch:{},methods:{getRegKey:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("regKey");case 2:if(r=t.sent,!r){t.next=9;break}return t.next=6,e.auth(r);case 6:bn.store.account=t.sent,console.log(bn.store.account),k.$emit("account-loaded");case 9:case"end":return t.stop()}}),t)})))()},getUserFromLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("user");case 2:r=t.sent,r&&(bn.store.user=JSON.parse(r));case 4:case"end":return t.stop()}}),t)})))()},getModuleFromLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("module");case 2:r=t.sent,r&&(bn.store.currentModule=JSON.parse(r));case 4:case"end":return t.stop()}}),t)})))()},getProjectFromLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("project");case 2:r=t.sent,r&&(bn.store.project=JSON.parse(r));case 4:case"end":return t.stop()}}),t)})))()},fakeGetkey:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="sup_623baf370cca56.01630938",t.next=3,e.auth(r);case 3:bn.store.account=t.sent,console.log(bn.store.account),setTimeout((function(){bn.store.user={firstname:"John",lastname:"Doe",email:"john_doe@gmail.com"},bn.store.project={allowDelete:0,clientId:2,created_at:"2022-03-24T00:24:37.000000Z",id:11,jiraId:null,lkProjectStatusId:1,projectKey:"bugtest",saveToJira:0,updated_at:"2022-03-24T00:24:37.000000Z"},bn.store.currentModule={id:1,name:"bugtest",allowDelete:0,description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."},k.$emit("account-loaded")}),2e3);case 6:case"end":return t.stop()}}),t)})))()}}},hn=mn,vn=Object(ne["a"])(hn,i,a,!1,null,null,null),gn=vn.exports;s["a"].config.productionTip=!1;var fn=new s["a"]({render:function(e){return e(gn)}}).$mount("#ui-br-ext-extension-container");window.destroyeUibrextInstance=function(){var e=document.getElementById("ui-br-ext-extension");e.remove(),fn.$destroy()};var bn=new s["a"]({data:{store:{selectedElement:"",currentElementInlineStyle:"",selectedElementRect:"",account:{},project:{projectKey:"",jiraId:"",saveToJira:!1},modules:[],user:{},dynamicDomFlow:!1,currentModule:{},screenshot:"",reports:[],report:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,saveScreenshot:!1,xPath:"",screenshot:"",url:"",queryWidth:550,user:void 0}}}})}});