(function(e){function t(t){for(var o,i,a=t[0],l=t[1],u=t[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],o=!0,a=1;a<r.length;a++){var l=r[a];0!==n[l]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},n={app:0},s=[];function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var c=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"globalStore",(function(){return Lr}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var o,n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Extension")},i=[],a=r("1da1"),l=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleExtensionVal,expression:"toggleExtensionVal"}],staticClass:"ui-br-ext-extension ui-br-ext-alwaysOn",staticStyle:{outline:"none !important"},attrs:{id:"ui-br-ext-extension"}},[r("MainMenu",{on:{"toggle-drop":e.toggleDrop,"toggle-extension":e.toggleExtension}}),r("Dropdown",{attrs:{dropToToggle:e.dropToToggle},on:{"toggle-extension":e.toggleExtension}})],1)}),u=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-header",staticStyle:{outline:"none !important"},attrs:{id:"ui-br-ext-header"},on:{mousedown:e.onMouseDown,touchstart:e.onTouchStart}},[r("div",{staticClass:"ui-br-ext-menu-container ui-br-ext-container ui-br-ext-alwaysOn"},[r("SelectBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton,"toggle-extension":function(t){return e.$emit("toggle-extension")}}}),r("ReportBugBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("ReviewBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("SettingsBtn",{attrs:{toggleCompleted:e.toggleCompleted},on:{"toggle-button":e.toggleButton}}),r("CloseBtn",{on:{"toggle-button":e.toggleButton}})],1)])},d=[],m=(r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{ref:"selectButton",staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Select",id:"ui-br-ext-select-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-mouse-pointer",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}}),r("path",{attrs:{d:"M13 13l6 6"}})])])}),p=[],h=(r("d3b7"),r("159b"),r("a15b"),r("caad"),r("2532"),function(e){return x(e)}),f=function(e){return b(e)},v=function(){var e=document.querySelector("body");e.addEventListener("mouseover",h),e.addEventListener("mouseout",f)},g=function(){var e=document.querySelector("body");e.removeEventListener("mouseover",h),e.removeEventListener("mouseout",f)},x=function(e){e.target.classList.value.includes("ui-br-ext-")||e.target.classList.add("ui-br-ext-hovered")},b=function(e){e.target.classList.remove("ui-br-ext-hovered")},w={hoverOn:h,hoverOff:f,addHover:v,removeHover:g,hoverOnHandler:x,hoverOffHandler:b},y=new n["a"],C=y,k=function(e){e||(e=document.querySelectorAll("body > *:not(#ui-br-ext-extension):not(script):not(noscript):not(style)")),e.forEach((function(e){e.addEventListener("click",_,{capture:!0}),e.addEventListener("mousedown",_,{capture:!0})}))},R=function(e){e||(e=document.querySelectorAll("body > *:not(#ui-br-ext-extension):not(script):not(noscript):not(style)")),e.forEach((function(e){e.removeEventListener("click",_,{capture:!0}),e.removeEventListener("mousedown",_,{capture:!0})}))},_=function(e){return M(e)},M=function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),"click"==e.type&&E(e.target),!1},E=function(e){var t=e.getAttribute("data-ext-index");if(!(t&&t>=0))return!1;console.log(t),C.$emit("show-details",t)},S={preventClick:_,addClickBlocker:k,removeClickBlocker:R,preventClickHandler:M},D={element:null,parentCount:0},$=5,B=function(){var e="",t="*{\n        -webkit-tap-highlight-color: transparent;\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n      }",r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.setAttribute("id","ui-br-ext-extension-style"),r.appendChild(o),o.type="text/css",o.styleSheet?o.styleSheet.cssText=e+t:o.appendChild(document.createTextNode(e+t)),O(P)},T=function(){var e;null===(e=document.getElementById("ui-br-ext-extension-style"))||void 0===e||e.remove(),j(P),document.querySelectorAll(".ui-br-ext-outlined-element").forEach((function(e){e.classList.remove("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText.replace("outline: red dashed 3px !important;",""),e.removeAttribute("data-ext-index")})),D&&(D.element=null,D.parentCount=0),L(!1)},O=function(e){var t=document.getElementsByTagName("html")[0];t.addEventListener("mousedown",e,!0),S.addClickBlocker(),w.addHover()},j=function(e){var t=document.getElementsByTagName("html")[0];t.removeEventListener("mousedown",e,!0),S.removeClickBlocker(),w.removeHover()},P=function(e){if(e){var t=e.clientX,r=e.clientY;F(t,r)}},F=function(e,t){var r,o,n,s,i=document.elementFromPoint(e,t),a=document.elementFromPoint(e,t);if(i&&null!==D.element&&D.parentCount<$&&null===(null===(r=i)||void 0===r?void 0:r.closest("#ui-br-ext-extension"))){var l=D.element.getBoundingClientRect(),u=l.top,c=l.left,d=i.getBoundingClientRect(),m=d.top,p=d.left;if(u===m&&c===p){for(var h=null,f=!1,v=1;v<$;v++){var g;if(h=null!==h?h.parentElement:i.parentElement,null!==(g=h)&&void 0!==g&&g.classList.contains("ui-br-ext-outlined-element")){f=!0,D.parentCount++;break}}f||D.parentCount++,i=f?h.parentElement:i.parentElement}}D.element=a,"body"!=(null===(o=i)||void 0===o?void 0:o.tagName.toLocaleLowerCase())&&"html"!=(null===(n=i)||void 0===n?void 0:n.tagName.toLocaleLowerCase())&&null===(null===(s=i)||void 0===s?void 0:s.closest("#ui-br-ext-extension"))&&(A(i),L(!0),Lr.store.selectedElement=i,Lr.store.selectedElementRect=i.getBoundingClientRect()),D.parentCount===$&&(D.element=null,D.parentCount=0)},A=function(e){document.querySelectorAll(".ui-br-ext-outlined-element").forEach((function(e){e.classList.remove("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText.replace("outline: red dashed 3px !important;","")})),e.classList.add("ui-br-ext-outlined-element"),e.style.cssText=e.style.cssText+"outline: red dashed 3px !important;"},L=function(e){var t=document.getElementById("ui-br-ext-report-bug-button");t.style.display=e?t.classList.remove("ui-br-ext-report-bug-inactive"):t.classList.add("ui-br-ext-report-bug-inactive")},I=function(e){for(var t,r=document.getElementsByTagName("*"),o=[];e&&1==e.nodeType;e=e.parentNode){if(e.hasAttribute("id")){for(var n=0;n<r.length;n++)if(r[n].hasAttribute("id")&&r[n].id==e.id)return o.unshift('//*[@id="'+e.getAttribute("id")+'"]'),o.join("/")}else{var s=void 0;for(s=1,t=e.previousSibling;t;t=t.previousSibling)t.localName==e.localName&&s++;o.unshift(e.localName.toLowerCase()+"["+s+"]")}if("html"===e.localName.toLowerCase())break}return o.length?"/"+o.join("/"):null},X={getElementXpath:I,displayReportBugButton:L,outlineSelectedElement:A,findElementFromPoint:F,getMouseCoordinates:P,removeClickFromBody:j,addClickToHtml:O,onDeselect:T,onSelect:B,ui_br_ext_previousElement:D,ui_br_ext_parentLimit:$},Y=function(e){var t=document.getElementsByClassName("ui-br-ext-active")[0],r=e.id;return("ui-br-ext-select-button"!==(null===t||void 0===t?void 0:t.id)||"ui-br-ext-select-button"===(null===t||void 0===t?void 0:t.id)&&"ui-br-ext-select-button"===r||"ui-br-ext-select-button"===(null===t||void 0===t?void 0:t.id)&&"ui-br-ext-report-bug-button"!==r)&&z(),N(e)},N=function(e){var t=!1,r=e.classList;return r.contains("ui-br-ext-active")?(e.classList.remove("ui-br-ext-active"),t=!1):(document.querySelectorAll(".ui-br-ext-operator").forEach((function(e){e.classList.remove("ui-br-ext-active")})),e.classList.add("ui-br-ext-active"),t=!0),t},z=function(){X.onDeselect(),J()},H=function(e){document.getElementById(e).classList.add("ui-br-ext-active")},J=function(){document.querySelectorAll(".ui-br-ext-extension .ui-br-ext-dropdown-item").forEach((function(e){e.classList.remove("ui-br-ext-active")}))},U=function(){X.onSelect()},K=function(){X.removeClickFromBody(X.getMouseCoordinates)},V={activateOperator:Y,resetAllOperators:z,setOperatorIconStyle:N,openDropdown:H,closeDropdown:J,onSelect:U,removeClickFromBodyOnReport:K},q=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.querySelector("body").classList.add("ui-br-ext-hide-hovered"),e.next=3,Q(100);case 3:return e.abrupt("return",new Promise((function(e,t){chrome.runtime.sendMessage({todo:"getImage"},(function(r){r.imgSrc?(e(r.imgSrc),document.querySelector("body").classList.remove("ui-br-ext-hide-hovered")):(t(),document.querySelector("body").classList.remove("ui-br-ext-hide-hovered"))}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},W=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.bugReportextension.screenshot){e.next=4;break}return e.next=3,q();case 3:window.bugReportextension.screenshot=e.sent;case 4:Z("ui-br-ext-download-image-full",window.bugReportextension.screenshot,"full_screenshot");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=550,t=window.matchMedia("(max-width: 1023px)"),r=window.matchMedia("(max-width: 767px)");return r.matches&&(e=window.innerWidth-.25*window.innerWidth),t.matches&&(e=window.innerWidth-.45*window.innerWidth),e},Z=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,o){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.getElementById(t),s="image/png",n.download=o,n.href=r,n.dataset.downloadurl=[s,n.download,n.href].join(":"),n.click();case 6:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),ee={getScreenshot:q,setDelay:Q,imageDownload:W,screenshotLink:Z,getQueryWidth:G},te={name:"SelectBtn",props:["toggleCompleted"],created:function(){this.onSelect=V.onSelect,this.onGetScreenshot=ee.getScreenshot},mounted:function(){window.selectButtonComponent=this},data:function(){return{next:!1}},methods:{toggleBtn:function(e){this.toggleEmit(e.currentTarget),Lr.store.dynamicDomFlow=!1},toggleEmit:function(e){var t=this;this.$emit("toggle-button",e),this.$nextTick((function(){t.toggleCompleted&&t.onSelect()}))},toggleSelectButton:function(){this.toggleEmit(this.$refs.selectButton),Lr.store.dynamicDomFlow=!0},getScreenshot:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("toggle-extension"),t.next=3,e.onGetScreenshot();case 3:Lr.store.screenshot=t.sent,e.$emit("toggle-extension");case 5:case"end":return t.stop()}}),t)})))()}}},re=te,oe=r("2877"),ne=Object(oe["a"])(re,m,p,!1,null,null,null),se=ne.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn ui-br-ext-report-bug-inactive",attrs:{"data-title":"Report bug",id:"ui-br-ext-report-bug-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"feather feather-file-plus",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}}),r("polyline",{attrs:{points:"14 2 14 8 20 8"}}),r("line",{attrs:{x1:"12",y1:"18",x2:"12",y2:"12"}}),r("line",{attrs:{x1:"9",y1:"15",x2:"15",y2:"15"}})])])},ae=[],le={name:"ReportBugBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},ue=le,ce=Object(oe["a"])(ue,ie,ae,!1,null,null,null),de=ce.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Review",id:"ui-br-ext-review-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"feather feather-file-text",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}}),r("polyline",{attrs:{points:"14 2 14 8 20 8"}}),r("polyline",{attrs:{points:"10 9 9 9 8 9"}}),r("line",{attrs:{x1:"16",y1:"13",x2:"8",y2:"13"}}),r("line",{attrs:{x1:"16",y1:"17",x2:"8",y2:"17"}})])])},pe=[],he={name:"ReviewBtn",props:["toggleCompleted"],data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},fe=he,ve=Object(oe["a"])(fe,me,pe,!1,null,null,null),ge=ve.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Settings",id:"ui-br-ext-settings-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-settings",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"12",cy:"12",r:"3"}}),r("path",{attrs:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}})])])},be=[],we={name:"SettingsBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},ye=we,Ce=Object(oe["a"])(ye,xe,be,!1,null,null,null),ke=Ce.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"ui-br-ext-operator ui-br-ext-alwaysOn",attrs:{"data-title":"Close",id:"ui-br-ext-close-button"},on:{click:e.toggleBtn}},[r("svg",{staticClass:"ui-br-ext-feather feather-x",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#f04242","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("line",{attrs:{x1:"18",y1:"6",x2:"6",y2:"18"}}),r("line",{attrs:{x1:"6",y1:"6",x2:"18",y2:"18"}})])])},_e=[],Me={name:"CloseBtn",props:["toggleCompleted"],created:function(){},data:function(){return{next:!1}},methods:{toggleBtn:function(e){var t=this;this.$emit("toggle-button",e.currentTarget),this.$nextTick((function(){console.log(t.toggleCompleted),t.toggleCompleted&&console.log(t.toggleCompleted)}))}}},Ee=Me,Se=Object(oe["a"])(Ee,Re,_e,!1,null,null,null),De=Se.exports,$e={name:"MainMenu",components:{SelectBtn:se,ReportBugBtn:de,ReviewBtn:ge,SettingsBtn:ke,CloseBtn:De},created:function(){this.activateOperator=V.activateOperator,this.onDeselect=X.onDeselect,this.removeClickFromBodyOnReport=V.removeClickFromBodyOnReport},data:function(){return{toggleCompleted:!1,positions:{clientX:void 0,clientY:void 0,movementX:0,movementY:0}}},methods:{toggleButton:function(e){"ui-br-ext-close-button"==e.id?(this.onDeselect(),window.destroyeUibrextInstance()):(this.toggleCompleted=this.activateOperator(e),this.toggleDrops(e.id,this.toggleCompleted),"ui-br-ext-report-bug-button"==e.id&&this.removeClickFromBodyOnReport())},toggleDrops:function(e,t){e=e.replace("ui-br-ext-","").replace(/-/g,"").replace("button",""),this.$emit("toggle-drop",{id:e,state:t})},onMouseDown:function(e){e.preventDefault(),this.positions.clientX=e.clientX,this.positions.clientY=e.clientY,document.onmousemove=this.elementDrag,document.onmouseup=this.closeDragElement},elementDrag:function(e){e.preventDefault();var t=document.getElementById("ui-br-ext-extension");this.positions.movementX=this.positions.clientX-e.clientX,this.positions.movementY=this.positions.clientY-e.clientY,this.positions.clientX=e.clientX,this.positions.clientY=e.clientY,e.clientY>0&&e.clientY<window.innerHeight&&(t.style.top=t.offsetTop-this.positions.movementY+"px"),e.clientX>0&&e.clientX<window.innerWidth&&(t.style.left=t.offsetLeft-this.positions.movementX+"px")},closeDragElement:function(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null},onTouchStart:function(e){if("ui-br-ext-header"==e.target.id){e.preventDefault(),e.stopPropagation();var t=e.touches[0];this.positions.clientX=t.clientX,this.positions.clientY=t.clientY,document.ontouchmove=this.onTouchMove,document.ontouchend=this.closeDragElement}},onTouchMove:function(e){e.stopPropagation();var t=e.touches[0],r=document.getElementById("ui-br-ext-extension");this.positions.movementX=this.positions.clientX-t.clientX,this.positions.movementY=this.positions.clientY-t.clientY,this.positions.clientX=t.clientX,this.positions.clientY=t.clientY,t.clientY>0&&t.clientY<window.innerHeight&&(r.style.top=r.offsetTop-this.positions.movementY+"px"),t.clientX>0&&t.clientX<window.innerWidth&&(r.style.left=r.offsetLeft-this.positions.movementX+"px")}}},Be=$e,Te=Object(oe["a"])(Be,c,d,!1,null,null,null),Oe=Te.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-container ui-br-ext-dropdown"},[e.drops.reportbug?r("ReportBugDrop",{on:{"toggle-extension":function(t){return e.$emit("toggle-extension")}}}):e._e(),e.drops.settings?r("SettingsDrop"):e._e(),e.drops.review?r("ReviewDrop"):e._e()],1)},Pe=[],Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"divToResize",staticClass:"ui-br-ext-dropdown-item ui-br-ext-report-bug",attrs:{id:"ui-br-ext-report-bug"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Report bug")]),r("div",{staticClass:"ui-br-ext-drop-body"},[r("ModuleDetails",{attrs:{module:e.currentModule}}),r("UserDetails",{attrs:{user:e.user}}),r("ReportForm",{ref:"reportForm"})],1),e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.saveJira,expression:"form.saveJira"}],attrs:{type:"checkbox",name:"jira",id:"ui-br-ext-save-to-jira"},domProps:{checked:Array.isArray(e.form.saveJira)?e._i(e.form.saveJira,null)>-1:e.form.saveJira},on:{change:function(t){var r=e.form.saveJira,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.form,"saveJira",r.concat([s])):i>-1&&e.$set(e.form,"saveJira",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"saveJira",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-jira"}},[e._v("Create Jira ticket on save")])]):e._e(),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.savePdf,expression:"form.savePdf"}],attrs:{type:"checkbox",name:"pdf",id:"ui-br-ext-save-to-pdf"},domProps:{checked:Array.isArray(e.form.savePdf)?e._i(e.form.savePdf,null)>-1:e.form.savePdf},on:{change:function(t){var r=e.form.savePdf,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.form,"savePdf",r.concat([s])):i>-1&&e.$set(e.form,"savePdf",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"savePdf",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-pdf"}},[e._v("Save as PDF")])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.saveScreenshot,expression:"form.saveScreenshot"}],attrs:{type:"checkbox",name:"screenshot",id:"ui-br-ext-save-to-screenshot"},domProps:{checked:Array.isArray(e.form.saveScreenshot)?e._i(e.form.saveScreenshot,null)>-1:e.form.saveScreenshot},on:{change:function(t){var r=e.form.saveScreenshot,o=t.target,n=!!o.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);o.checked?i<0&&e.$set(e.form,"saveScreenshot",r.concat([s])):i>-1&&e.$set(e.form,"saveScreenshot",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.form,"saveScreenshot",n)}}}),r("label",{attrs:{for:"ui-br-ext-save-to-screenshot"}},[e._v("Attach screenshot")]),r("span",{staticClass:"ui-br-ext-disclaimer"},[e._v("Make sure to remove personal identity information")])]),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-report","data-listener":"off"},on:{click:e.saveReport}},[r("span",[e._v("Save")])]),r("Resize",{attrs:{elementId:e.elementId}}),r("a",{ref:"downloadImageFull",staticStyle:{display:"none !important"},attrs:{href:""}})],1)},Ae=[],Le=(r("b0c0"),r("a4d3"),r("e01a"),r("99af"),r("25f0"),r("fb6a"),{content:[],pageMargins:[20,40,20,40],styles:{subheader:{fontSize:12,bold:!0,margin:[0,0,0,5]},description:{fontSize:12,margin:[0,0,0,20]},screenshot:{margin:[0,0,0,20]}}}),Ie=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,o,n){var s,i,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Ye(),Le.content=[],i=r("e499"),void 0==i.vfs&&(a=r("4ebb"),i.vfs=a.pdfMake.vfs),e.next=6,Xe(t,o,n);case 6:return l=e.sent,console.log(l),Le.content=Le.content.concat(l),i.createPdf(Le).download(s+".pdf"),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,o){var n,s,i,a,l,u,c,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=["description","actualResults","expectedResults","stepsToReproduce"],s={description:"Description",actualResults:"Actual results",expectedResults:"Expected results",stepsToReproduce:"Steps to reproduce"},i=[],a=0,l=n;a<l.length;a++)u=l[a],t[u].length>0&&(c={text:"".concat(s[u]),style:"subheader"},d={text:"".concat(t[u]),style:"description"},i.push(c),i.push(d));return t.saveScreenshot&&(m={image:r,width:o,pageBreak:"after",style:"screenshot"},i.push(m)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),Ye=function(e){var t=Ne();return e?e+"_"+t:"BugReport_"+t},Ne=function(){var e=Date.now().toString();return e.slice(-6)},ze={savePdf:Ie,createPdfContent:Xe,getFileName:Ye,getDate:Ne},He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"ui-br-ext-info-list"},[e.module&&e.module.name?r("li",[e._m(0),e.module?r("span",[e._v(" "+e._s(e.module.name||"No module chosen"))]):e._e()]):e._e()])},Je=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v(" Module label: ")])])}],Ue={name:"ModuleDetails",props:["module"],methods:{}},Ke=Ue,Ve=Object(oe["a"])(Ke,He,Je,!1,null,null,null),qe=Ve.exports,Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"ui-br-ext-info-list"},[e.user&&(e.user.firstname||e.user.lastname)?r("li",[e._m(0),r("span",[e._v(" "+e._s(e.user.firstname)+" "+e._s(e.user.lastname))])]):e._e(),e.user&&e.user.email?r("li",[e._m(1),r("span",[e._v(" "+e._s(e.user.email))])]):e._e()])},We=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("User: ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("Email: ")])])}],Ge={name:"UserDetails",props:["user"]},Ze=Ge,et=Object(oe["a"])(Ze,Qe,We,!1,null,null,null),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-box-resize",attrs:{id:"ui-br-comment-boxResize"},on:{mousedown:e.onMouseDown,touchstart:e.onTouchStart}},[r("svg",{attrs:{version:"1.1",viewBox:"0 0 36 36",preserveAspectRatio:"xMidYMid meet",focusable:"false",role:"img",width:"128",height:"128",fill:"currentColor"}},[r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-1",attrs:{d:"M33,11H3a1,1,0,0,0,0,2H33a1,1,0,0,0,0-2Z"}}),r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-2",attrs:{d:"M28,17H8a1,1,0,0,0,0,2H28a1,1,0,0,0,0-2Z"}}),r("path",{staticClass:"ui-br-ext-clr-i-outline clr-i-outline-path-3",attrs:{d:"M23,23H13a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"}})])])},ot=[],nt={},st=function(e,t){e.preventDefault(),o=document.getElementById(t),nt.width=o.getBoundingClientRect().width,nt.height=o.getBoundingClientRect().height,nt.clientX=e.clientX,nt.clientY=e.clientY,nt.element=o,document.onmousemove=at,document.onmouseup=ut},it=function(e){e.preventDefault(),e.stopPropagation();var t=e.touches[0];nt.width=o.getBoundingClientRect().width,nt.height=o.getBoundingClientRect().height,nt.clientX=t.clientX,nt.clientY=t.clientY,document.ontouchmove=lt,document.ontouchend=ut,o=void 0},at=function(e){e.preventDefault(),nt.resizeX=nt.width+(e.clientX-nt.clientX),nt.resizeX>350&&(nt.element.style.width=nt.resizeX+"px"),nt.resizeY=nt.height+(e.clientY-nt.clientY),nt.resizeY>200&&(nt.element.style.height=nt.resizeY+"px")},lt=function(e){var t=e.touches[0];nt.resizeX=nt.width+(t.clientX-nt.clientX),nt.resizeX>250&&nt.resizeX<330&&(nt.element.style.width=nt.resizeX+"px"),nt.resizeY=nt.height+(t.clientY-nt.clientY),nt.resizeY>200&&(nt.element.style.height=nt.resizeY+"px")},ut=function(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null},ct={onMouseDown:st,setInitialSize:at,closeElementResize:ut,onTouchResize:lt,onTouchStart:it},dt={name:"Resize",props:["elementId"],data:function(){return{element:void 0}},created:function(){this.mouseMove=ct.onMouseDown,this.touchMove=ct.onTouchStart},methods:{onMouseDown:function(e){this.mouseMove(e,this.elementId)},onTouchStart:function(e){"ui-br-comment-boxResize"==e.path[1]["id"]&&this.touchMove(e)}}},mt=dt,pt=Object(oe["a"])(mt,rt,ot,!1,null,null,null),ht=pt.exports,ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-description"}},[e._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{name:"ui-br-ext-description",rows:"2","data-gramm":"false"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-act-results"}},[e._v("Actual results")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.actualResults,expression:"form.actualResults"}],attrs:{name:"ui-br-ext-act-results",rows:"3","data-gramm":"false"},domProps:{value:e.form.actualResults},on:{input:function(t){t.target.composing||e.$set(e.form,"actualResults",t.target.value)}}})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-exp-results"}},[e._v("Expected results")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.expectedResults,expression:"form.expectedResults"}],attrs:{name:"ui-br-ext-exp-results",rows:"3","data-gramm":"false"},domProps:{value:e.form.expectedResults},on:{input:function(t){t.target.composing||e.$set(e.form,"expectedResults",t.target.value)}}})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-rep-steps"}},[e._v("Steps to reproduce")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.stepsToReproduce,expression:"form.stepsToReproduce"}],attrs:{name:"ui-br-ext-rep-steps",rows:"3","data-gramm":"false"},domProps:{value:e.form.stepsToReproduce},on:{input:function(t){t.target.composing||e.$set(e.form,"stepsToReproduce",t.target.value)}}})])])},vt=[],gt={name:"ReportForm",props:["report"],mounted:function(){this.setFormValue()},data:function(){return{form:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:""}}},methods:{setFormValue:function(){this.report&&(this.form.description=this.report.description,this.form.actualResults=this.report.actualResults,this.form.expectedResults=this.report.expectedResults,this.form.stepsToReproduce=this.report.stepsToReproduce)},resetReportData:function(){this.form={description:"",actualResults:"",expectedResults:"",stepsToReproduce:""}}}},xt=gt,bt=Object(oe["a"])(xt,ft,vt,!1,null,null,null),wt=bt.exports,yt={name:"ReportBugDrop",components:{ModuleDetails:qe,UserDetails:tt,Resize:ht,ReportForm:wt},created:function(){this.onGetScreenshot=ee.getScreenshot,this.getQueryWidth=ee.getQueryWidth,this.getFileName=ze.getFileName,this.savePdf=ze.savePdf,this.getElementXpath=X.getElementXpath},mounted:function(){var e,t=this;this.account=null===Lr||void 0===Lr||null===(e=Lr.store)||void 0===e?void 0:e.account,this.currentModule=null===Lr||void 0===Lr?void 0:Lr.store.currentModule,this.user=null===Lr||void 0===Lr?void 0:Lr.store.user,C.$on("account-loaded",(function(e){t.account=Lr.store.account,t.currentModule=Lr.store.currentModule})),C.$on("user-loaded",(function(){t.user=Lr.store.user}))},data:function(){return{next:!1,currentModule:{},account:{},user:{},form:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,saveScreenshot:!1,screenshot:"",xPath:""},filename:"",name:"test",elementId:"ui-br-ext-report-bug"}},methods:{saveReport:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.reportForm(),e.filename=e.getFileName(e.currentModule.name),!e.form.saveScreenshot){t.next=6;break}if(Lr.store.dynamicDomFlow){t.next=6;break}return t.next=6,e.getScreenshot();case 6:if(!e.form.savePdf){t.next=9;break}return t.next=9,e.savePdf(e.form,Lr.store.screenshot,Lr.store.queryWidth);case 9:e.form.saveScreenshot&&!e.form.savePdf&&e.screenshotLink(Lr.store.screenshot,e.filename),e.form.saveJira&&console.log("save jira"),Lr.store.report.xPath=e.getElementXpath(Lr.store.selectedElement),e.setTempReports(),e.resetReportData();case 14:case"end":return t.stop()}}),t)})))()},getScreenshot:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("toggle-extension"),t.next=3,e.onGetScreenshot();case 3:return Lr.store.screenshot=t.sent,t.next=6,e.getQueryWidth();case 6:Lr.store.queryWidth=t.sent,e.$emit("toggle-extension");case 8:case"end":return t.stop()}}),t)})))()},screenshotLink:function(e,t){var r=this.$refs.downloadImageFull,o="image/png";r.download=t,r.href=e,r.dataset.downloadurl=[o,r.download,r.href].join(":"),r.click()},resetReportData:function(){this.form={description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,saveScreenshot:!1,screenshot:"",xPath:""},Lr.store.screenshot="",Lr.store.dynamicDomFlow=!1,Lr.store.selectedElement="",Lr.store.currentElementInlineStyle="",Lr.store.selectedElementRect="",this.$refs.reportForm.resetReportData()},setTempReports:function(){var e={content:this.form,url:window.location,screenshot:Lr.store.screenshot,xPath:Lr.store.report.xPath,user:this.user};Lr.store.reports.push(e),console.log(Lr.store.reports),C.$emit("report-loaded")},reportForm:function(){this.form.description=this.$refs.reportForm.form.description,this.form.actualResults=this.$refs.reportForm.form.actualResults,this.form.expectedResults=this.$refs.reportForm.form.expectedResults,this.form.stepsToReproduce=this.$refs.reportForm.form.stepsToReproduce}}},Ct=yt,kt=Object(oe["a"])(Ct,Fe,Ae,!1,null,null,null),Rt=kt.exports,_t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-dropdown-item ui-br-ext-settings",attrs:{id:"ui-br-ext-settings"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Settings")]),r("div",{staticClass:"ui-br-ext-drop-body"},[e.account&&e.account.registrationKey?r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifModule=!e.ifModule,e.ifAccount=!1,e.ifUser=!1}}},[e._v("Module")]),e.ifModule?r("Module"):e._e()],1):e._e(),r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifAccount=!e.ifAccount,e.ifModule=!1,e.ifUser=!1}}},[e._v("Account")]),e.ifAccount?r("Account"):e._e()],1),r("div",{staticClass:"ui-br-ext-settings-container"},[r("div",{staticClass:"ui-br-ext-setting-title",on:{click:function(t){e.ifUser=!e.ifUser,e.ifModule=!1,e.ifAccount=!1}}},[e._v("User")]),e.ifUser?r("User"):e._e()],1)])])},Mt=[],Et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[r("ModuleDetails",{attrs:{module:e.currentModule}}),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-modules"}},[e._v("Choose module")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),""!==e.searchQuery&&e.searchResults&&0==e.searchResults.length?r("span",{staticClass:"ui-br-ext-message"},[e._v("No modules found")]):e._e(),r("span",{staticClass:"ui-br-ext-search-icon"},[r("svg",{staticClass:"feather feather-search",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#00ad55","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),r("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}})])]),e.searchResults&&e.searchResults.length>0?r("div",{staticClass:"ui-br-ext-search-results"},[r("ul",e._l(e.searchResults.slice(0,10),(function(t){return r("li",{key:t.id},[r("span",{staticClass:"ui-br-ext-module-label",on:{click:function(r){return e.onResultClick(t)}}},[e._v(e._s(t.name))]),1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-module-icons"},[r("span",{on:{click:function(r){return e.onModuleEdit(Object.assign({},t))}}},[r("svg",{staticClass:"feather feather-edit-3",attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#666666","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M12 20h9"}}),r("path",{attrs:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}})])]),r("span",{staticClass:"trash-icon",on:{click:function(r){return e.onModuleDelete(t)}}},[r("svg",{staticClass:"feather feather-trash-2",attrs:{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#666666","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})])])]):e._e()])})),0)]):e._e()]),1==e.account.isAdmin?r("div",{staticClass:"ui-br-ext-btn-link"},[r("span",{class:{active:e.showAddModule},attrs:{id:"ui-br-ext-btn-link"},on:{click:function(t){e.showAddModule=!e.showAddModule,e.resetModule()}}},[e._v("Create module")])]):e._e(),e.showAddModule?r("div",{staticClass:"ui-br-ext-new-module-cont"},[r("form",{attrs:{novalidate:"",name:"ui-br-ext-new-module"}},[r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-module-label"}},[e._v("Module name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.module.name,expression:"module.name"}],attrs:{type:"text",name:"ui-br-ext-new-module-label"},domProps:{value:e.module.name},on:{input:function(t){t.target.composing||e.$set(e.module,"name",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.moduleMessage))])]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-module-label"}},[e._v("JIRA id")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.module.jiraId,expression:"module.jiraId"}],attrs:{type:"text",name:"ui-br-ext-new-module-label"},domProps:{value:e.module.jiraId},on:{input:function(t){t.target.composing||e.$set(e.module,"jiraId",t.target.value)}}})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"ui-br-ext-new-module-name"}},[e._v("Module description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.module.description,expression:"module.description"}],attrs:{name:"ui-br-ext-new-module-name",rows:"2"},domProps:{value:e.module.description},on:{input:function(t){t.target.composing||e.$set(e.module,"description",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})])]),r("button",{staticClass:"ui-br-ext-btn",attrs:{"data-listener":"off"},on:{click:e.saveModule}},[r("span",{staticClass:"ui-br-ext-spinner"}),r("span",[e._v("Save")])])]):e._e()],1)},St=[],Dt=(r("4de4"),r("c740"),{name:"Module",components:{ModuleDetails:qe},mounted:function(){var e=this;this.account=Lr.store.account,this.currentModule=Lr.store.currentModule,this.modules=Lr.store.modules,this.user=Lr.store.user,C.$on("account-loaded",(function(){e.account=Lr.store.account,e.currentModule=Lr.store.currentModule,e.modules=Lr.store.modules})),C.$on("user-loaded",(function(){e.user=Lr.store.user}))},data:function(){return{showAddModule:!1,module:{name:"",jiraId:"",description:""},searchQuery:"",moduleMessage:"",currentModule:{},account:{},modules:[]}},computed:{searchResults:function(){var e=this;return""==this.searchQuery?[]:this.modules.filter((function(t){var r;return null===(r=t.name)||void 0===r?void 0:r.includes(e.searchQuery)}))}},methods:{saveModule:function(){var e=this;this.moduleMessage="";var t=this.modules.findIndex((function(t){return t.name==e.module.name}));-1==t?this.module.id?(alert("Module ".concat(this.module.name," successfully saved")),this.showAddModule=!1,this.resetModule()):(this.modules.push({name:this.module.name,description:this.module.description}),alert("Module ".concat(this.module.name," successfully saved")),this.showAddModule=!1,this.resetModule()):this.moduleMessage="Module exist"},resetModule:function(){this.module.name="",this.module.description="",this.module.id&&delete this.module.id},onResultClick:function(e){this.searchQuery="",this.currentModule=e,Lr.store.currentModule=e,C.$emit("account-loaded")},onModuleEdit:function(e){console.log(e),this.showAddModule=!0,this.module=e},onModuleDelete:function(e){console.log(e)}}}),$t=Dt,Bt=Object(oe["a"])($t,Et,St,!1,null,null,null),Tt=Bt.exports,Ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[r("ul",{staticClass:"ui-br-ext-info-list"},[e.account&&e.account.registrationKey?r("li",[e._m(0),r("span",[e._v(" "+e._s(e.account.registrationKey))])]):e._e()]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"regKey"}},[e._v("Registration Key")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.reg.key,expression:"reg.key"}],attrs:{type:"text",name:"regKey"},domProps:{value:e.reg.key},on:{input:function(t){t.target.composing||e.$set(e.reg,"key",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"},[e._v(e._s(e.reg.error))])]),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-new-module","data-listener":"off"}},[r("span",{staticClass:"ui-br-ext-spinner",class:{active:e.reg.spinner}}),r("span",{on:{click:e.onRegKeySave}},[e._v("Save")])])])},jt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[r("strong",[e._v("Regkey:")])])}],Pt=function(e){return new Promise((function(t,r){fetch("https://extension-auth.evendor.app/api/get_config?RegistrationKey=".concat(e)).then((function(e){if(e.ok)return e.json();401===e.status?r("Invalid registration key"):r("Sorry, something went wrong")})).then((function(e){t(e)})).catch((function(e){r("Sorry, something went wrong")}))}))},Ft={auth:Pt},At=r("ade3"),Lt=function(e){return new Promise((function(t,r){chrome.storage.local.get((function(o){if(chrome.runtime.lastError)return r(chrome.runtime.lastError);t(o[e])}))}))},It=function(e,t){return new Promise((function(r,o){try{chrome.storage.local.set(Object(At["a"])({},e,t),(function(){r(!0)}))}catch(n){o(!1)}}))},Xt={get:Lt,set:It},Yt={name:"Account",created:function(){this.auth=Ft.auth,this.localStorage=Xt},mounted:function(){this.account=Lr.store.account},data:function(){return{account:{},isRegKeySaved:!1,reg:{key:"",error:"",spinner:!1}}},methods:{onRegKeySave:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.reg.error="",""===e.reg.key){t.next=19;break}if(!e.account||!e.account.registrationKey){t.next=7;break}if(r=confirm("Do you want to change the registration key?"),r){t.next=7;break}return e.reg.key="",t.abrupt("return",!1);case 7:return e.reg.spinner=!0,t.next=10,e.auth(e.reg.key).catch((function(t){e.reg.error=t,e.reg.spinner=!1}));case 10:if(e.account=t.sent,!e.account){t.next=17;break}return Lr.store.account=e.account,C.$emit("account-loaded"),t.next=16,e.localStorage.set("regKey",e.reg.key);case 16:e.reg.spinner=!1;case 17:t.next=21;break;case 19:e.reg.error="Enter registration key",e.reg.spinner=!1;case 21:case"end":return t.stop()}}),t)})))()}}},Nt=Yt,zt=Object(oe["a"])(Nt,Ot,jt,!1,null,null,null),Ht=zt.exports,Jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-br-ext-settings-body"},[r("UserDetails",{attrs:{user:e.user}}),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"firstname"}},[e._v("First name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.firstname,expression:"userForm.firstname"}],attrs:{type:"text",name:"firstname"},domProps:{value:e.userForm.firstname},on:{input:function(t){t.target.composing||e.$set(e.userForm,"firstname",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"lastname"}},[e._v("Last name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.lastname,expression:"userForm.lastname"}],attrs:{type:"text",name:"lastname"},domProps:{value:e.userForm.lastname},on:{input:function(t){t.target.composing||e.$set(e.userForm,"lastname",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("div",{staticClass:"ui-br-ext-form-container ui-br-ext-textarea"},[r("label",{attrs:{for:"email"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userForm.email,expression:"userForm.email"}],attrs:{type:"text",name:"email"},domProps:{value:e.userForm.email},on:{input:function(t){t.target.composing||e.$set(e.userForm,"email",t.target.value)}}}),r("span",{staticClass:"ui-br-ext-message"})]),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-new-module","data-listener":"off"}},[r("span",{staticClass:"ui-br-ext-spinner",class:{active:e.spinner}}),r("span",{on:{click:e.onUserSave}},[e._v("Save")])])],1)},Ut=[],Kt=(r("e9c4"),{name:"Account",components:{UserDetails:tt},created:function(){this.auth=Ft.auth,this.localStorage=Xt},mounted:function(){this.account=Lr.store.account,this.user=Lr.store.user},data:function(){return{userForm:{firstname:"",lastname:"",email:""},spinner:!1,user:{}}},methods:{onUserSave:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.userForm),r=JSON.stringify(e.userForm),t.next=4,e.localStorage.set("user",r);case 4:Lr.store.user=e.userForm,e.user=e.userForm,C.$emit("user-loaded"),e.userForm={firstname:"",lastname:"",email:""};case 8:case"end":return t.stop()}}),t)})))()}}}),Vt=Kt,qt=Object(oe["a"])(Vt,Jt,Ut,!1,null,null,null),Qt=qt.exports,Wt={name:"SettingsDrop",components:{Module:Tt,Account:Ht,User:Qt},mounted:function(){var e,t=this;this.account=null===Lr||void 0===Lr||null===(e=Lr.store)||void 0===e?void 0:e.account,this.currentModule=null===Lr||void 0===Lr?void 0:Lr.store.currentModule,C.$on("account-loaded",(function(e){t.account=Lr.store.account,t.currentModule=Lr.store.currentModule}))},data:function(){return{ifModule:!1,ifAccount:!1,ifUser:!1,currentModule:{},account:{}}},methods:{}},Gt=Wt,Zt=Object(oe["a"])(Gt,_t,Mt,!1,null,null,null),er=Zt.exports,tr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"divToResize",staticClass:"ui-br-ext-dropdown-item ui-br-ext-review",attrs:{id:"ui-br-ext-review"}},[r("div",{staticClass:"ui-br-ext-drop-title"},[e._v("Reports")]),r("div",{staticClass:"ui-br-ext-drop-body"},[e.toggle.allReports?r("AllReports",{attrs:{reports:e.reports,module:e.currentModule},on:{"show-details":e.showDetails}}):e._e(),e.toggle.details?r("ReportDetails",{attrs:{report:e.report,module:e.currentModule},on:{"close-details":e.closeDetails,"delete-report":e.deleteReport,"edit-report":e.editReport}}):e._e(),e.toggle.edit?r("EditReport",{attrs:{report:e.report},on:{"save-edited-report":e.saveEditedReport}}):e._e()],1),r("Resize",{attrs:{elementId:e.elementId}})],1)},rr=[],or=(r("a434"),r("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ModuleDetails",{attrs:{module:e.currentModule}}),e._l(e.reportsToDisplay,(function(t,o){return r("div",{key:o,staticClass:"ui-br-ext-review-card"},[r("UserDetails",{attrs:{user:t.user}}),t.content.description?r("div",{staticClass:"ui-br-ext-review-box ui-br-ext-ellipsis",on:{click:function(t){return e.showDetails(o)}}},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Description:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(t.content.description))])]):e._e(),t.screenshot?r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:function(r){return e.showImage(t.screenshot)}}},[e._v("Screenshot")]):e._e()],1)}))],2)}),nr=[],sr={name:"AllReports",components:{UserDetails:tt,ModuleDetails:qe},props:["reports","currentModule"],mounted:function(){this.reportsToDisplay=this.reports.filter((function(e){return!e.element}))},data:function(){return{reportsToDisplay:[]}},methods:{showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},showDetails:function(e){this.$emit("show-details",e)}}},ir=sr,ar=Object(oe["a"])(ir,or,nr,!1,null,null,null),lr=ar.exports,ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"ui-br-ext-close-details",on:{click:e.close}},[e._v("Close")]),e.report?r("div",{staticClass:"ui-br-ext-review-card"},[r("ModuleDetails",{attrs:{module:e.module}}),r("UserDetails",{attrs:{user:e.report.user}}),e.report.content.description?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Description:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.content.description))])]):e._e(),e.report.content.stepsToReproduce?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Steps to reproduce:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.content.stepsToReproduce))])]):e._e(),e.report.content.actualResults?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Actual results:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.content.actualResults))])]):e._e(),e.report.content.expectedResults?r("div",{staticClass:"ui-br-ext-review-box"},[r("div",{staticClass:"ui-br-ext-review-title"},[e._v("Expected results:")]),r("div",{staticClass:"ui-br-ext-review-text"},[e._v(e._s(e.report.content.expectedResults))])]):e._e(),r("div",[r("span",{staticClass:"ui-br-ext-btn-lnk",class:{disabled:!e.report.screenshot},on:{click:function(t){return e.showImage(e.report.screenshot)}}},[e._v("View screenshot")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.pdf}},[e._v("Export PDF")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.addJira}},[e._v("Add JIRA ticket")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.createJira}},[e._v("Create JIRA issue")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.edit}},[e._v("Edit report")]),r("span",{staticClass:"ui-br-ext-btn-lnk",on:{click:e.deleteReport}},[e._v("Delete report")])])],1):e._e()])},cr=[],dr={name:"ReportDetails",components:{ModuleDetails:qe,UserDetails:tt},props:["report","module"],methods:{showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},addJira:function(){console.log("addjira")},createJira:function(){console.log("create jira")},pdf:function(){console.log("download pdf")},close:function(){this.$emit("close-details")},edit:function(){this.$emit("edit-report",this.report)},deleteReport:function(){var e=confirm("Are you sure?");e&&this.$emit("delete-report",this.report)}}},mr=dr,pr=Object(oe["a"])(mr,ur,cr,!1,null,null,null),hr=pr.exports,fr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ReportForm",{ref:"reportForm",attrs:{report:e.report.content}}),r("button",{staticClass:"ui-br-ext-btn",attrs:{id:"ui-br-ext-save-report","data-listener":"off"},on:{click:e.saveReport}},[r("span",[e._v("Save")])])],1)},vr=[],gr={name:"ReviewDrop",components:{ReportForm:wt},props:["report"],data:function(){return{}},methods:{saveReport:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.reportForm(),console.log(e.form),e.$emit("save-edited-report",{content:e.$refs.reportForm.form,xPath:e.report.xPath});case 3:case"end":return t.stop()}}),t)})))()},reportForm:function(){this.report.content.description=this.$refs.reportForm.form.description,this.report.content.actualResults=this.$refs.reportForm.form.actualResults,this.report.content.expectedResults=this.$refs.reportForm.form.expectedResults,this.report.content.stepsToReproduce=this.$refs.reportForm.form.stepsToReproduce}}},xr=gr,br=Object(oe["a"])(xr,fr,vr,!1,null,null,null),wr=br.exports,yr={name:"ReviewDrop",components:{AllReports:lr,ReportDetails:hr,Resize:ht,EditReport:wr},created:function(){this.addClickBlocker=S.addClickBlocker,this.removeSingleClickBlocker=S.removeSingleClickBlocker,this.removeClickBlocker=S.removeClickBlocker},mounted:function(){var e=this;this.reports=Lr.store.reports,this.currentModule=null===Lr||void 0===Lr?void 0:Lr.store.currentModule,this.showElements(),C.$on("account-loaded",(function(t){e.currentModule=Lr.store.currentModule})),C.$on("report-loaded",(function(t){e.reports=Lr.store.reports})),C.$on("show-details",(function(t){e.showDetails(t)}))},data:function(){return{ifModule:!1,ifAccount:!1,ifUser:!1,currentModule:{},account:{},reports:[],report:void 0,toggle:{allReports:!0,details:!1,edit:!1},elementId:"ui-br-ext-review"}},methods:{showElements:function(){for(var e=0;e<this.reports.length;e++)if(this.selectElement(e),e==this.reports.length-1){var t=document.querySelectorAll(".ui-br-ext-outlined-element");this.addClickBlocker(t)}},selectElement:function(e){var t=this.reports[e],r=document.evaluate(t.xPath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;r?(t.element=r,r.classList.add("ui-br-ext-outlined-element"),r.style.cssText=r.style.cssText+"outline: red dashed 3px !important;",r.setAttribute("data-ext-index",e)):(t.element=!1,this.reports.splice(e,1),this.reports.push(t),C.$on("report-loaded"))},closeDetails:function(){this.toggleChildren("allReports")},showDetails:function(e){this.report=this.reports[e],this.toggleChildren("details")},showImage:function(e){if(e){var t=new Image;t.src=e;var r=window.open("");r.document.write(t.outerHTML)}},deleteReport:function(e){var t=this.reports.findIndex((function(t){return t.xPath==e.xPath}));this.closeDetails(),this.reports.splice(t,1),this.removeClickBlocker(),e.element.classList.remove("ui-br-ext-outlined-element"),e.element.style.cssText=e.element.style.cssText.replace("outline: red dashed 3px !important;",""),e.element.removeAttribute("data-ext-index"),this.showElements()},editReport:function(e){this.toggleChildren("edit"),this.report=e},saveEditedReport:function(e){var t=this.reports.findIndex((function(t){return t.xPath==e.xPath}));this.reports[t].content=e.content,this.showDetails(t)},toggleChildren:function(e){var t=this;Object.keys(this.toggle).forEach((function(r){t.toggle[r]=r==e}))}}},Cr=yr,kr=Object(oe["a"])(Cr,tr,rr,!1,null,null,null),Rr=kr.exports,_r={name:"Dropdown",components:{ReportBugDrop:Rt,SettingsDrop:er,ReviewDrop:Rr},props:["dropToToggle"],watch:{dropToToggle:function(e,t){this.toggleDropdown(e.id,e.state,t.id)}},data:function(){return{toggleCompleted:!1,toggleReportBugDrop:!1,drops:{reportbug:!1,settings:!1,review:!1,reportdetails:!1},reportIndex:void 0}},methods:{toggleDropdown:function(e,t,r){this.drops[r]=!1,this.drops[e]=t}}},Mr=_r,Er=Object(oe["a"])(Mr,je,Pe,!1,null,null,null),Sr=Er.exports,Dr={name:"Extension",components:{MainMenu:Oe,Dropdown:Sr},data:function(){return{dropToToggle:{},toggleExtensionVal:!0}},methods:{toggleDrop:function(e){this.dropToToggle=e},toggleExtension:function(e){this.toggleExtensionVal=!this.toggleExtensionVal}}},$r=Dr,Br=Object(oe["a"])($r,l,u,!1,null,null,null),Tr=Br.exports,Or={name:"App",components:{Extension:Tr},data:function(){return{regKey:"",account:{}}},created:function(){this.localStorage=Xt,this.auth=Ft.auth,this.fakeGetkey(),this.getUserFromLocal()},watch:{},methods:{getRegKey:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("regKey");case 2:if(e.regKey=t.sent,!e.regKey){t.next=8;break}return t.next=6,e.auth(e.regKey);case 6:Lr.store.account=t.sent,C.$emit("account-loaded");case 8:case"end":return t.stop()}}),t)})))()},getUserFromLocal:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.localStorage.get("user");case 2:r=t.sent,r&&(e.user=JSON.parse(r),Lr.store.user=e.user,C.$emit("user-loaded"));case 4:case"end":return t.stop()}}),t)})))()},fakeGetkey:function(){setTimeout((function(){Lr.store.account={client:"My Test Company",isAdmin:1,registrationKey:"sup_61b589b5f03c42.30439098",repositoryServer:"http://127.0.0.1:8000/api/",token:"$5$rounds=5000mzcHt$YZZLVq4ssfOss/w5F5O3rxDIhcKwTwQzI9f86Kow2i."},Lr.store.user={firstname:"John",lastname:"Doe",email:"john_doe@gmail.com"},Lr.store.modules=[{id:1,name:"bu senlarga",description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."},{id:2,name:"tralivali",description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."},{id:3,name:"emas",description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."},{id:4,name:"tilitili",description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."},{id:5,name:"bubblegum",description:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."}],C.$emit("account-loaded")}),2e3)}}},jr=Or,Pr=Object(oe["a"])(jr,s,i,!1,null,null,null),Fr=Pr.exports;n["a"].config.productionTip=!1;var Ar=new n["a"]({render:function(e){return e(Fr)}}).$mount("#ui-br-ext-extension-container");window.destroyeUibrextInstance=function(){var e=document.getElementById("ui-br-ext-extension");e.remove(),Ar.$destroy()};var Lr=new n["a"]({data:{store:{selectedElement:"",currentElementInlineStyle:"",selectedElementRect:"",account:{},modules:[],user:{},dynamicDomFlow:!1,currentModule:{},screenshot:"",reports:[],report:{description:"",actualResults:"",expectedResults:"",stepsToReproduce:"",saveJira:!1,savePdf:!1,saveScreenshot:!1,xPath:""}}}})}});